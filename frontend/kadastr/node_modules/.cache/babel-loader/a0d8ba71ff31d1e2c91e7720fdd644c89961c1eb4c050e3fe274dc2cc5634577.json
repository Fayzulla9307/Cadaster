{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-68767f93\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"item\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"border-style\": \"none !important\",\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_3 = {\n  style: {\n    \"border-style\": \"none !important\",\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"width\": \"50px\",\n    \"border-style\": \"none !important\"\n  }\n};\nconst _hoisted_5 = {\n  style: {\n    \"width\": \"100%\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_OkModal = _resolveComponent(\"OkModal\");\n  const _component_BootstrapIcon = _resolveComponent(\"BootstrapIcon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.showAuthError ? (_openBlock(), _createBlock(_component_OkModal, {\n    key: 0,\n    message: $data.authMessage,\n    header: $data.authHeader,\n    onConfirm: $options.hideAuthMessage\n  }, null, 8, [\"message\", \"header\", \"onConfirm\"])) : _createCommentVNode(\"\", true), _createElementVNode(\"table\", _hoisted_2, [_createElementVNode(\"tr\", _hoisted_3, [_createElementVNode(\"td\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addItem && $options.addItem(...args)),\n    class: \"btn btn-dark btn-lg btn-block\",\n    style: {\n      \"float\": \"left\",\n      \"width\": \"300px\"\n    }\n  }, [_createVNode(_component_BootstrapIcon, {\n    icon: \"database-add\"\n  }), _createTextVNode(\" Добавить новую запись \")])]), _createElementVNode(\"td\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control form-control-lg\",\n    style: {\n      \"display\": \"inline\",\n      \"width\": \"calc(100%)\"\n    },\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.itemDescription = $event)\n  }, null, 512), [[_vModelText, $data.itemDescription]])])])])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","$data","showAuthError","_createBlock","_component_OkModal","message","authMessage","header","authHeader","onConfirm","$options","hideAuthMessage","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","addItem","_createVNode","_component_BootstrapIcon","icon","_hoisted_5","type","itemDescription","$event"],"sources":["/Users/fayzulla/Dev/kadastr/frontend/kadastr/src/components/PropertyNewItem.vue"],"sourcesContent":["<template>\n  <div class=\"item\">\n    <OkModal\n      v-if=\"showAuthError\"\n      v-bind:message=\"authMessage\"\n      v-bind:header=\"authHeader\"\n      v-on:confirm=\"hideAuthMessage\"\n    />\n    <table style=\"border-style: none !important; width: 100%\">\n      <tr style=\"border-style: none !important; width: 100%\">\n        <td style=\"width: 50px; border-style: none !important\">\n          <button\n            @click=\"addItem\"\n            class=\"btn btn-dark btn-lg btn-block\"\n            style=\"float: left; width: 300px\"\n          >\n            <BootstrapIcon icon=\"database-add\" />\n            Добавить новую запись\n          </button>\n        </td>\n        <td style=\"width: 100%\">\n          <input\n            type=\"text\"\n            class=\"form-control form-control-lg\"\n            style=\"display: inline; width: calc(100%)\"\n            v-model=\"itemDescription\"\n          />\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport BootstrapIcon from \"@dvuckovic/vue3-bootstrap-icons\";\nimport OkModal from \"./OkModal.vue\";\n\nexport default {\n  name: \"PropertyNewItem\",\n  props: [\"category\"],\n  data() {\n    return {\n      itemCategory: this.category,\n      itemDescription: \"\",\n      showAuthError: false,\n      authMessage: \"Доступ запрещен\",\n      authHeader: \"Ошибка безопасности\",\n    };\n  },\n  watch: {\n    category: {\n      deep: true,\n      handler(n) {\n        this.itemCategory = n;\n      },\n    },\n  },\n  methods: {\n    hideAuthMessage() {\n      this.showAuthError = false;\n      this.$emit(\"updated\", {});\n    },\n    addItem(e) {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      };\n      const url = this.$BASE_URL + \"/api/add_dictionary_contents/\";\n      axios\n        .post(\n          url,\n          { category: this.itemCategory, description: this.itemDescription },\n          { headers }\n        )\n        .then((response) => {\n          if (response.data[0].auth_fail) {\n            this.showAuthError = true;\n            return;\n          }\n\n          this.itemDescription = \"\";\n        });\n      e.preventDefault();\n    },\n  },\n  components: {\n    BootstrapIcon,\n    OkModal,\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\n.item {\n  width: calc(100%);\n  height: 50px;\n  font-weight: bolder;\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\n  border-style: none !important;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAM;;EAORC,KAAkD,EAAlD;IAAA;IAAA;EAAA;AAAkD;;EACnDA,KAAkD,EAAlD;IAAA;IAAA;EAAA;AAAkD;;EAChDA,KAAkD,EAAlD;IAAA;IAAA;EAAA;AAAkD;;EAUlDA,KAAmB,EAAnB;IAAA;EAAA;AAAmB;;;;uBAnB7BC,mBAAA,CA6BM,OA7BNC,UA6BM,GA3BIC,KAAA,CAAAC,aAAa,I,cADrBC,YAAA,CAKEC,kBAAA;;IAHOC,OAAO,EAAEJ,KAAA,CAAAK,WAAW;IACpBC,MAAM,EAAEN,KAAA,CAAAO,UAAU;IACpBC,SAAO,EAAEC,QAAA,CAAAC;oFAEhBC,mBAAA,CAqBQ,SArBRC,UAqBQ,GApBND,mBAAA,CAmBK,MAnBLE,UAmBK,GAlBHF,mBAAA,CASK,MATLG,UASK,GARHH,mBAAA,CAOS;IANNI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,QAAA,CAAAS,OAAA,IAAAT,QAAA,CAAAS,OAAA,IAAAD,IAAA,CAAO;IACfrB,KAAK,EAAC,+BAA+B;IACrCC,KAAiC,EAAjC;MAAA;MAAA;IAAA;MAEAsB,YAAA,CAAqCC,wBAAA;IAAtBC,IAAI,EAAC;EAAc,I,iBAAG,yBAEvC,E,KAEFV,mBAAA,CAOK,MAPLW,UAOK,G,gBANHX,mBAAA,CAKE;IAJAY,IAAI,EAAC,MAAM;IACX3B,KAAK,EAAC,8BAA8B;IACpCC,KAA0C,EAA1C;MAAA;MAAA;IAAA,CAA0C;+DACjCG,KAAA,CAAAwB,eAAe,GAAAC,MAAA;gCAAfzB,KAAA,CAAAwB,eAAe,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}