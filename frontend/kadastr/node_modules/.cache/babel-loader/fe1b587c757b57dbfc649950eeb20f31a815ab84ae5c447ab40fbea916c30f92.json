{"ast":null,"code":"import axios from \"axios\";\nimport ProtocolSelectionModal from \"../components/ProtocolSelectionModal.vue\";\nimport ProtocolEditModal from \"../components/ProtocolEditModal.vue\";\nimport ComponentSelectionModal from \"../components/ComponentSelectionModal.vue\";\nexport default {\n  name: \"Protocols\",\n  data() {\n    return {\n      showDepositSelectionTable: false,\n      showComponentSelectionModal: false,\n      showEditModal: false,\n      depositName: \"\",\n      deposit_id: null,\n      mine_area_id: null\n    };\n  },\n  methods: {\n    closeAllWindows() {\n      this.showEditModal = false;\n      this.showDepositSelectionTable = false;\n      this.showComponentSelectionModal = false;\n    },\n    selectProtocol() {\n      this.showDepositSelectionTable = true;\n    },\n    showDepositSelection() {\n      this.showEditModal = false;\n      this.showDepositSelectionTable = true;\n    },\n    closeObjectSelectionWindow() {\n      this.showDepositSelectionTable = false;\n    },\n    selectDeposit(data) {\n      this.deposit_id = data.deposit_id;\n      this.mine_area_id = data.mine_area_id;\n      this.showDepositSelectionTable = false;\n      this.showComponentSelectionModal = true;\n    },\n    selectComponent(data) {\n      this.component_id = data.component_id;\n      this.showComponentSelectionModal = false;\n      this.showEditModal = true;\n    },\n    getDepositInfo() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      };\n      const url = this.$BASE_URL + \"/api/get_deposit/\";\n      axios.post(url, {\n        deposit_id: this.deposit_id\n      }, {\n        headers\n      }).then(response => {\n        if (!response.data[0].auth_fail) {\n          this.depositName = response.data[0].result.deposit_name;\n        }\n      });\n    }\n  },\n  components: {\n    ProtocolSelectionModal,\n    ProtocolEditModal,\n    ComponentSelectionModal\n  },\n  mounted() {}\n};","map":{"version":3,"names":["axios","ProtocolSelectionModal","ProtocolEditModal","ComponentSelectionModal","name","data","showDepositSelectionTable","showComponentSelectionModal","showEditModal","depositName","deposit_id","mine_area_id","methods","closeAllWindows","selectProtocol","showDepositSelection","closeObjectSelectionWindow","selectDeposit","selectComponent","component_id","getDepositInfo","token","sessionStorage","getItem","headers","Authorization","url","$BASE_URL","post","then","response","auth_fail","result","deposit_name","components","mounted"],"sources":["/Users/fayzulla/Dev/kadastr/frontend/kadastr/src/views/Protocols.vue"],"sourcesContent":["<template>\n  <div class=\"main\">\n    <ProtocolSelectionModal\n      v-if=\"showDepositSelectionTable\"\n      v-on:cancel=\"closeObjectSelectionWindow\"\n      v-on:confirm=\"selectDeposit\"\n    />\n    <ProtocolEditModal\n      v-bind:deposit_id=\"deposit_id\"\n      v-bind:mine_area_id=\"mine_area_id\"\n      v-bind:component_id=\"component_id\"\n      v-if=\"showEditModal\"\n      v-on:reselect=\"showDepositSelection\"\n    />\n    <ComponentSelectionModal\n      v-if=\"showComponentSelectionModal\"\n      v-bind:deposit_id=\"deposit_id\"\n      v-bind:mine_area_id=\"mine_area_id\"\n      v-on:confirm=\"selectComponent\"\n      v-on:cancel=\"closeAllWindows\"\n    />\n    <div class=\"instrument\">\n      Данный инструмент представляет возможность заполнения информации\n      обобъекте. Для запуска мастера нажмите на кнопку: <br />\n      <button\n        @click=\"selectProtocol\"\n        class=\"btn btn-dark btn-lg btn-block close\"\n      >\n        Запустить мастер заполнения протокола?\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ProtocolSelectionModal from \"../components/ProtocolSelectionModal.vue\";\nimport ProtocolEditModal from \"../components/ProtocolEditModal.vue\";\nimport ComponentSelectionModal from \"../components/ComponentSelectionModal.vue\";\n\nexport default {\n  name: \"Protocols\",\n  data() {\n    return {\n      showDepositSelectionTable: false,\n      showComponentSelectionModal: false,\n      showEditModal: false,\n      depositName: \"\",\n      deposit_id: null,\n      mine_area_id: null,\n    };\n  },\n  methods: {\n    closeAllWindows() {\n      this.showEditModal = false;\n      this.showDepositSelectionTable = false;\n      this.showComponentSelectionModal = false;\n    },\n    selectProtocol() {\n      this.showDepositSelectionTable = true;\n    },\n    showDepositSelection() {\n      this.showEditModal = false;\n      this.showDepositSelectionTable = true;\n    },\n    closeObjectSelectionWindow() {\n      this.showDepositSelectionTable = false;\n    },\n    selectDeposit(data) {\n      this.deposit_id = data.deposit_id;\n      this.mine_area_id = data.mine_area_id;\n      this.showDepositSelectionTable = false;\n      this.showComponentSelectionModal = true;\n    },\n    selectComponent(data) {\n      this.component_id = data.component_id;\n      this.showComponentSelectionModal = false;\n      this.showEditModal = true;\n    },\n    getDepositInfo() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      };\n      const url = this.$BASE_URL + \"/api/get_deposit/\";\n      axios\n        .post(url, { deposit_id: this.deposit_id }, { headers })\n        .then((response) => {\n          if (!response.data[0].auth_fail) {\n            this.depositName = response.data[0].result.deposit_name;\n          }\n        });\n    },\n  },\n  components: {\n    ProtocolSelectionModal,\n    ProtocolEditModal,\n    ComponentSelectionModal,\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\nh3 {\n  color: black;\n  text-align: center;\n}\n\n.instrument {\n  text-align: justify;\n  position: absolute;\n  width: 300px;\n  height: 300px;\n  top: calc(50% - 150px);\n  left: calc(50% - 150px);\n}\n\n.main {\n  /*position: absolute;*/\n\n  /* Center form on page horizontally & vertically */\n  height: 100%;\n  width: calc(90%);\n  margin: auto;\n\n  font-weight: bolder;\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\n  border-style: none !important;\n  border-top: none !important;\n  border-bottom: none !important;\n  margin-bottom: 30px !important;\n  padding-bottom: 30px !important;\n}\n</style>\n"],"mappings":"AAmCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,sBAAqB,MAAO,0CAA0C;AAC7E,OAAOC,iBAAgB,MAAO,qCAAqC;AACnE,OAAOC,uBAAsB,MAAO,2CAA2C;AAE/E,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,yBAAyB,EAAE,KAAK;MAChCC,2BAA2B,EAAE,KAAK;MAClCC,aAAa,EAAE,KAAK;MACpBC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACL,aAAY,GAAI,KAAK;MAC1B,IAAI,CAACF,yBAAwB,GAAI,KAAK;MACtC,IAAI,CAACC,2BAA0B,GAAI,KAAK;IAC1C,CAAC;IACDO,cAAcA,CAAA,EAAG;MACf,IAAI,CAACR,yBAAwB,GAAI,IAAI;IACvC,CAAC;IACDS,oBAAoBA,CAAA,EAAG;MACrB,IAAI,CAACP,aAAY,GAAI,KAAK;MAC1B,IAAI,CAACF,yBAAwB,GAAI,IAAI;IACvC,CAAC;IACDU,0BAA0BA,CAAA,EAAG;MAC3B,IAAI,CAACV,yBAAwB,GAAI,KAAK;IACxC,CAAC;IACDW,aAAaA,CAACZ,IAAI,EAAE;MAClB,IAAI,CAACK,UAAS,GAAIL,IAAI,CAACK,UAAU;MACjC,IAAI,CAACC,YAAW,GAAIN,IAAI,CAACM,YAAY;MACrC,IAAI,CAACL,yBAAwB,GAAI,KAAK;MACtC,IAAI,CAACC,2BAA0B,GAAI,IAAI;IACzC,CAAC;IACDW,eAAeA,CAACb,IAAI,EAAE;MACpB,IAAI,CAACc,YAAW,GAAId,IAAI,CAACc,YAAY;MACrC,IAAI,CAACZ,2BAA0B,GAAI,KAAK;MACxC,IAAI,CAACC,aAAY,GAAI,IAAI;IAC3B,CAAC;IACDY,cAAcA,CAAA,EAAG;MACf,MAAMC,KAAI,GAAIC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;MAC7C,MAAMC,OAAM,GAAI;QACd,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,SAAQ,GAAIJ;MAC7B,CAAC;MACD,MAAMK,GAAE,GAAI,IAAI,CAACC,SAAQ,GAAI,mBAAmB;MAChD3B,KAAI,CACD4B,IAAI,CAACF,GAAG,EAAE;QAAEhB,UAAU,EAAE,IAAI,CAACA;MAAW,CAAC,EAAE;QAAEc;MAAQ,CAAC,EACtDK,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACA,QAAQ,CAACzB,IAAI,CAAC,CAAC,CAAC,CAAC0B,SAAS,EAAE;UAC/B,IAAI,CAACtB,WAAU,GAAIqB,QAAQ,CAACzB,IAAI,CAAC,CAAC,CAAC,CAAC2B,MAAM,CAACC,YAAY;QACzD;MACF,CAAC,CAAC;IACN;EACF,CAAC;EACDC,UAAU,EAAE;IACVjC,sBAAsB;IACtBC,iBAAiB;IACjBC;EACF,CAAC;EACDgC,OAAOA,CAAA,EAAG,CAAC;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}