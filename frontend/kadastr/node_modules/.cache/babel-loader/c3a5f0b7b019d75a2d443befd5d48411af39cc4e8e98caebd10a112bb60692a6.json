{"ast":null,"code":"import axios from \"axios\";\nimport BootstrapIcon from \"@dvuckovic/vue3-bootstrap-icons\";\n//import ConfirmModal from \"../components/ConfirmModal.vue\";\nimport OkModal from \"./OkModal.vue\";\nexport default {\n  name: \"ExplorationCtrl\",\n  props: [\"deposit_id\", \"mine_area_id\", \"component_id\"],\n  data() {\n    return {\n      items: [],\n      year: null,\n      stages: [],\n      showSpinner: false,\n      showError: false,\n      selectedStageId: null\n    };\n  },\n  methods: {\n    loadStages() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      };\n      const url = this.$BASE_URL + \"/api/get_dictionary_contents/\";\n      axios.post(url, {\n        category: \"SPR_STADII_IZUCHENNOSTI\",\n        limit: 10000,\n        offset: 0\n      }, {\n        headers\n      }).then(response => {\n        if (!response.data[0].auth_fail) {\n          this.stages = response.data[0].result;\n        }\n      });\n    }\n  },\n  mounted() {\n    this.loadStages();\n  },\n  components: {\n    OkModal,\n    BootstrapIcon\n  }\n};","map":{"version":3,"names":["axios","BootstrapIcon","OkModal","name","props","data","items","year","stages","showSpinner","showError","selectedStageId","methods","loadStages","token","sessionStorage","getItem","headers","Authorization","url","$BASE_URL","post","category","limit","offset","then","response","auth_fail","result","mounted","components"],"sources":["/Users/fayzulla/Dev/kadastr/frontend/kadastr/src/components/ExplorationCtrl.vue"],"sourcesContent":["<template>\n  <div>\n    <OkModal\n      v-if=\"showError\"\n      v-bind:message=\"errorMessage\"\n      v-bind:header=\"header\"\n      v-on:confirm=\"hideErrorMessage\"\n    />\n    <OkModal\n      v-if=\"showAuthError\"\n      v-bind:message=\"authMessage\"\n      v-bind:header=\"authHeader\"\n      v-on:confirm=\"hideAuthMessage\"\n    />\n    <!-- ConfirmModal\n      v-if=\"showConfirmModal\"\n      v-bind:message=\"confirmMessage\"\n      v-bind:header=\"confirmHeader\"\n      v-on:confirm=\"onConfirm\"\n      v-on:cancel=\"onCancel\"\n    / -->\n    <div\n      v-for=\"item in items\"\n      v-bind:key=\"\n        item.deposit_id +\n        '_' +\n        item.mine_area_id +\n        '_' +\n        item.component_id +\n        '_' +\n        item.year\n      \"\n    >\n      <div class=\"item\">\n        <button\n          @click=\"removeItem\"\n          class=\"btn btn-dark btn-lg btn-block\"\n          style=\"float: left; width: 70px\"\n        >\n          <BootstrapIcon icon=\"trash\" />\n        </button>\n        <input\n          type=\"text\"\n          class=\"form-control form-control-lg\"\n          v-model=\"item.year\"\n          placeholder=\"Введите год\"\n        />\n        <input\n          type=\"text\"\n          class=\"form-control form-control-lg\"\n          v-model=\"item.exploration_stage\"\n          placeholder=\"Введите степень освоения\"\n        />\n      </div>\n    </div>\n    <div style=\"width: calc(100%)\">\n      <div class=\"item\">\n        <button\n          @click=\"addItem\"\n          class=\"btn btn-dark btn-lg btn-block\"\n          style=\"height: 50px\"\n        >\n          <!-- BootstrapIcon icon=\"check\" / -->\n          Добавить запись\n        </button>\n        <label\n          style=\"\n            margin-left: 10px;\n            margin-right: 10px;\n            width: 150px;\n            text-align: right;\n            font-weight: bolder;\n          \"\n          >Год</label\n        >\n        <input\n          type=\"text\"\n          class=\"form-control form-control-lg\"\n          style=\"width: 100px\"\n          v-model=\"newItemYear\"\n          placeholder=\"Год\"\n        />\n        <label\n          style=\"\n            margin-left: 10px;\n            margin-right: 10px;\n            width: 150px;\n            text-align: right;\n            font-weight: bolder;\n          \"\n          >Стадии изученности</label\n        >\n        <select\n          class=\"form-select form-control-md\"\n          v-model=\"selectedStageId\"\n          aria-label=\"Стадии изученности\"\n          style=\"width: calc(100% - 640px)\"\n          placeholder=\"Введите степень освоения\"\n        >\n          <option v-for=\"o in stages\" v-bind:value=\"o.id\" v-bind:key=\"o.id\">\n            {{ o.description }}\n          </option>\n        </select>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport BootstrapIcon from \"@dvuckovic/vue3-bootstrap-icons\";\n//import ConfirmModal from \"../components/ConfirmModal.vue\";\nimport OkModal from \"./OkModal.vue\";\n\nexport default {\n  name: \"ExplorationCtrl\",\n  props: [\"deposit_id\", \"mine_area_id\", \"component_id\"],\n  data() {\n    return {\n      items: [],\n      year: null,\n      stages: [],\n      showSpinner: false,\n      showError: false,\n      selectedStageId: null\n    };\n  },\n  methods: {\n    loadStages() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      };\n      const url = this.$BASE_URL + \"/api/get_dictionary_contents/\";\n      axios\n        .post(\n          url,\n          { category: \"SPR_STADII_IZUCHENNOSTI\", limit: 10000, offset: 0 },\n          { headers }\n        )\n        .then((response) => {\n          if (!response.data[0].auth_fail) {\n            this.stages = response.data[0].result;\n          }\n        });\n    },\n  },\n  mounted() {\n    this.loadStages();\n  },\n  components: {\n    OkModal,\n    BootstrapIcon,\n  },\n};\n</script>\n\n<style scoped>\ninput,\nselect {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 10px;\n  height: 30px;\n}\n</style>\n"],"mappings":"AA6GA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,aAAY,MAAO,iCAAiC;AAC3D;AACA,OAAOC,OAAM,MAAO,eAAe;AAEnC,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,KAAK,EAAE,CAAC,YAAY,EAAE,cAAc,EAAE,cAAc,CAAC;EACrDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,IAAI;MACVC,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE,KAAK;MAClBC,SAAS,EAAE,KAAK;MAChBC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,MAAMC,KAAI,GAAIC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;MAC7C,MAAMC,OAAM,GAAI;QACd,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,SAAQ,GAAIJ;MAC7B,CAAC;MACD,MAAMK,GAAE,GAAI,IAAI,CAACC,SAAQ,GAAI,+BAA+B;MAC5DpB,KAAI,CACDqB,IAAI,CACHF,GAAG,EACH;QAAEG,QAAQ,EAAE,yBAAyB;QAAEC,KAAK,EAAE,KAAK;QAAEC,MAAM,EAAE;MAAE,CAAC,EAChE;QAAEP;MAAQ,EACZ,CACCQ,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACA,QAAQ,CAACrB,IAAI,CAAC,CAAC,CAAC,CAACsB,SAAS,EAAE;UAC/B,IAAI,CAACnB,MAAK,GAAIkB,QAAQ,CAACrB,IAAI,CAAC,CAAC,CAAC,CAACuB,MAAM;QACvC;MACF,CAAC,CAAC;IACN;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAAChB,UAAU,EAAE;EACnB,CAAC;EACDiB,UAAU,EAAE;IACV5B,OAAO;IACPD;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}