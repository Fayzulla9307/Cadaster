{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-403a2eae\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"item\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"border-style\": \"none !important\",\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_3 = {\n  style: {\n    \"border-style\": \"none !important\",\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"width\": \"50px\",\n    \"border-style\": \"none !important\"\n  }\n};\nconst _hoisted_5 = {\n  style: {\n    \"width\": \"50px\"\n  }\n};\nconst _hoisted_6 = {\n  style: {\n    \"width\": \"100%\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ConfirmModal = _resolveComponent(\"ConfirmModal\");\n  const _component_BootstrapIcon = _resolveComponent(\"BootstrapIcon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.showConfirmModal ? (_openBlock(), _createBlock(_component_ConfirmModal, {\n    key: 0,\n    message: $data.confirmMessage,\n    header: $data.confirmHeader,\n    onConfirm: $options.onConfirm,\n    onCancel: $options.onCancel\n  }, null, 8 /* PROPS */, [\"message\", \"header\", \"onConfirm\", \"onCancel\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"table\", _hoisted_2, [_createElementVNode(\"tr\", _hoisted_3, [_createElementVNode(\"td\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.removeUser && $options.removeUser(...args)),\n    class: \"btn btn-dark btn-lg btn-block\",\n    style: {\n      \"float\": \"left\",\n      \"width\": \"200px\"\n    }\n  }, [_createVNode(_component_BootstrapIcon, {\n    icon: \"trash\"\n  }), _createTextVNode(\" Удалить \")])]), _createElementVNode(\"td\", _hoisted_5, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.editUser && $options.editUser(...args)),\n    class: \"btn btn-dark btn-lg btn-block\",\n    style: {\n      \"float\": \"left\",\n      \"width\": \"200px\"\n    }\n  }, [_createVNode(_component_BootstrapIcon, {\n    icon: \"pencil\"\n  }), _createTextVNode(\" Редактировать \")])]), _createElementVNode(\"td\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control form-control-lg\",\n    style: {\n      \"display\": \"inline\",\n      \"width\": \"calc(100%)\"\n    },\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.userInfo = $event),\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userInfo]])])])])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","$data","showConfirmModal","_createBlock","_component_ConfirmModal","message","confirmMessage","header","confirmHeader","onConfirm","$options","onCancel","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","removeUser","_createVNode","_component_BootstrapIcon","icon","_hoisted_5","editUser","_hoisted_6","type","userInfo","$event","disabled"],"sources":["/Users/fayzulla/Dev/kadastr/frontend/kadastr/src/components/UserItem.vue"],"sourcesContent":["<template>\n  <div class=\"item\">\n    <ConfirmModal\n      v-if=\"showConfirmModal\"\n      v-bind:message=\"confirmMessage\"\n      v-bind:header=\"confirmHeader\"\n      v-on:confirm=\"onConfirm\"\n      v-on:cancel=\"onCancel\"\n    />\n    <table style=\"border-style: none !important; width: 100%\">\n      <tr style=\"border-style: none !important; width: 100%\">\n        <td style=\"width: 50px; border-style: none !important\">\n          <button\n            @click=\"removeUser\"\n            class=\"btn btn-dark btn-lg btn-block\"\n            style=\"float: left; width: 200px\"\n          >\n            <BootstrapIcon icon=\"trash\" />\n            Удалить\n          </button>\n        </td>\n        <td style=\"width: 50px\">\n          <button\n            @click=\"editUser\"\n            class=\"btn btn-dark btn-lg btn-block\"\n            style=\"float: left; width: 200px\"\n          >\n            <BootstrapIcon icon=\"pencil\" />\n            Редактировать\n          </button>\n        </td>\n        <td style=\"width: 100%\">\n          <input\n            type=\"text\"\n            class=\"form-control form-control-lg\"\n            style=\"display: inline; width: calc(100%)\"\n            v-model=\"userInfo\"\n            disabled\n          />\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport BootstrapIcon from \"@dvuckovic/vue3-bootstrap-icons\";\nimport ConfirmModal from \"../components/ConfirmModal.vue\";\n\nexport default {\n  name: \"UserItem\",\n  props: [\"user_id\", \"username\", \"role\"],\n  data() {\n    return {\n      showEditUser: false,\n      confirmMessage: \"\",\n      confirmHeader: \"\",\n      showConfirmModal: false,\n      userInfo:\n        \"Имя пользователя: \" +\n        this.username +\n        \", Роль пользователя: \" +\n        this.role,\n    };\n  },\n  methods: {\n    onConfirm() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      };\n      const url = this.$BASE_URL + \"/api/delete_user/\";\n      axios.post(url, { user_id: this.user_id }, { headers }).then(() => {\n        this.showConfirmModal = false;\n        this.$emit(\"user-deleted\", {});\n      });\n    },\n    onCancel() {\n      this.showConfirmModal = false;\n    },\n    removeUser(e) {\n      this.confirmMessage = \"Удалить пользователя?\";\n      this.confirmHeader = \"Удаление данных!\";\n      this.showConfirmModal = true;\n      e.preventDefault();\n    },\n    editUser(e) {\n      this.$emit(\"user-edited\", { user_id: this.user_id });\n      e.preventDefault();\n    },\n  },\n  components: {\n    BootstrapIcon,\n    ConfirmModal,\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\nimg {\n  height: 30px;\n  width: 30px;\n}\n\n.item {\n  width: calc(100%);\n  height: 50px;\n  font-weight: bolder;\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\n  border-style: none !important;\n}\n.delete-btn {\n  height: 30px;\n  display: inline;\n  /*margin-right: 5px;*/\n}\n.save-btn {\n  height: 30px;\n  display: inline-block;\n  /*margin-right: 5px;*/\n}\n.inputfield {\n  display: inline;\n  height: 30px;\n  width: 330px;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAM;;EAQRC,KAAkD,EAAlD;IAAA;IAAA;EAAA;AAAkD;;EACnDA,KAAkD,EAAlD;IAAA;IAAA;EAAA;AAAkD;;EAChDA,KAAkD,EAAlD;IAAA;IAAA;EAAA;AAAkD;;EAUlDA,KAAmB,EAAnB;IAAA;EAAA;AAAmB;;EAUnBA,KAAmB,EAAnB;IAAA;EAAA;AAAmB;;;;uBA9B7BC,mBAAA,CAyCM,OAzCNC,UAyCM,GAvCIC,KAAA,CAAAC,gBAAgB,I,cADxBC,YAAA,CAMEC,uBAAA;;IAJOC,OAAO,EAAEJ,KAAA,CAAAK,cAAc;IACvBC,MAAM,EAAEN,KAAA,CAAAO,aAAa;IACvBC,SAAO,EAAEC,QAAA,CAAAD,SAAS;IAClBE,QAAM,EAAED,QAAA,CAAAC;gHAEfC,mBAAA,CAgCQ,SAhCRC,UAgCQ,GA/BND,mBAAA,CA8BK,MA9BLE,UA8BK,GA7BHF,mBAAA,CASK,MATLG,UASK,GARHH,mBAAA,CAOS;IANNI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,QAAA,CAAAS,UAAA,IAAAT,QAAA,CAAAS,UAAA,IAAAD,IAAA,CAAU;IAClBrB,KAAK,EAAC,+BAA+B;IACrCC,KAAiC,EAAjC;MAAA;MAAA;IAAA;MAEAsB,YAAA,CAA8BC,wBAAA;IAAfC,IAAI,EAAC;EAAO,I,iBAAG,WAEhC,E,KAEFV,mBAAA,CASK,MATLW,UASK,GARHX,mBAAA,CAOS;IANNI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,QAAA,CAAAc,QAAA,IAAAd,QAAA,CAAAc,QAAA,IAAAN,IAAA,CAAQ;IAChBrB,KAAK,EAAC,+BAA+B;IACrCC,KAAiC,EAAjC;MAAA;MAAA;IAAA;MAEAsB,YAAA,CAA+BC,wBAAA;IAAhBC,IAAI,EAAC;EAAQ,I,iBAAG,iBAEjC,E,KAEFV,mBAAA,CAQK,MARLa,UAQK,G,gBAPHb,mBAAA,CAME;IALAc,IAAI,EAAC,MAAM;IACX7B,KAAK,EAAC,8BAA8B;IACpCC,KAA0C,EAA1C;MAAA;MAAA;IAAA,CAA0C;+DACjCG,KAAA,CAAA0B,QAAQ,GAAAC,MAAA;IACjBC,QAAQ,EAAR;iDADS5B,KAAA,CAAA0B,QAAQ,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}