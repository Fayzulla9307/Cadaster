{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-77a22691\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"main\"\n};\nconst _hoisted_2 = {\n  class: \"instrument\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProtocolSelectionModal = _resolveComponent(\"ProtocolSelectionModal\");\n  const _component_ProtocolEditModal = _resolveComponent(\"ProtocolEditModal\");\n  const _component_ComponentSelectionModal = _resolveComponent(\"ComponentSelectionModal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.showDepositSelectionTable ? (_openBlock(), _createBlock(_component_ProtocolSelectionModal, {\n    key: 0,\n    onCancel: $options.closeObjectSelectionWindow,\n    onConfirm: $options.selectDeposit\n  }, null, 8 /* PROPS */, [\"onCancel\", \"onConfirm\"])) : _createCommentVNode(\"v-if\", true), $data.showEditModal ? (_openBlock(), _createBlock(_component_ProtocolEditModal, {\n    key: 1,\n    deposit_id: $data.deposit_id,\n    mine_area_id: $data.mine_area_id,\n    component_id: _ctx.component_id,\n    onReselect: $options.showDepositSelection\n  }, null, 8 /* PROPS */, [\"deposit_id\", \"mine_area_id\", \"component_id\", \"onReselect\"])) : _createCommentVNode(\"v-if\", true), $data.showComponentSelectionModal ? (_openBlock(), _createBlock(_component_ComponentSelectionModal, {\n    key: 2,\n    deposit_id: $data.deposit_id,\n    mine_area_id: $data.mine_area_id,\n    onConfirm: $options.selectComponent,\n    onCancel: $options.closeAllWindows\n  }, null, 8 /* PROPS */, [\"deposit_id\", \"mine_area_id\", \"onConfirm\", \"onCancel\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_2, [_createTextVNode(\" Данный инструмент представляет возможность заполнения информации обобъекте. Для запуска мастера нажмите на кнопку: \"), _hoisted_3, _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.selectProtocol && $options.selectProtocol(...args)),\n    class: \"btn btn-dark btn-lg btn-block close\"\n  }, \" Запустить мастер заполнения протокола? \")])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","$data","showDepositSelectionTable","_createBlock","_component_ProtocolSelectionModal","onCancel","$options","closeObjectSelectionWindow","onConfirm","selectDeposit","showEditModal","_component_ProtocolEditModal","deposit_id","mine_area_id","component_id","_ctx","onReselect","showDepositSelection","showComponentSelectionModal","_component_ComponentSelectionModal","selectComponent","closeAllWindows","_hoisted_2","_hoisted_3","onClick","_cache","args","selectProtocol"],"sources":["/Users/fayzulla/Dev/kadastr/frontend/kadastr/src/views/Protocols.vue"],"sourcesContent":["<template>\n  <div class=\"main\">\n    <ProtocolSelectionModal\n      v-if=\"showDepositSelectionTable\"\n      v-on:cancel=\"closeObjectSelectionWindow\"\n      v-on:confirm=\"selectDeposit\"\n    />\n    <ProtocolEditModal\n      v-bind:deposit_id=\"deposit_id\"\n      v-bind:mine_area_id=\"mine_area_id\"\n      v-bind:component_id=\"component_id\"\n      v-if=\"showEditModal\"\n      v-on:reselect=\"showDepositSelection\"\n    />\n    <ComponentSelectionModal\n      v-if=\"showComponentSelectionModal\"\n      v-bind:deposit_id=\"deposit_id\"\n      v-bind:mine_area_id=\"mine_area_id\"\n      v-on:confirm=\"selectComponent\"\n      v-on:cancel=\"closeAllWindows\"\n    />\n    <div class=\"instrument\">\n      Данный инструмент представляет возможность заполнения информации\n      обобъекте. Для запуска мастера нажмите на кнопку: <br />\n      <button\n        @click=\"selectProtocol\"\n        class=\"btn btn-dark btn-lg btn-block close\"\n      >\n        Запустить мастер заполнения протокола?\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ProtocolSelectionModal from \"../components/ProtocolSelectionModal.vue\";\nimport ProtocolEditModal from \"../components/ProtocolEditModal.vue\";\nimport ComponentSelectionModal from \"../components/ComponentSelectionModal.vue\";\n\nexport default {\n  name: \"Protocols\",\n  data() {\n    return {\n      showDepositSelectionTable: false,\n      showComponentSelectionModal: false,\n      showEditModal: false,\n      depositName: \"\",\n      deposit_id: null,\n      mine_area_id: null,\n    };\n  },\n  methods: {\n    closeAllWindows() {\n      this.showEditModal = false;\n      this.showDepositSelectionTable = false;\n      this.showComponentSelectionModal = false;\n    },\n    selectProtocol() {\n      this.showDepositSelectionTable = true;\n    },\n    showDepositSelection() {\n      this.showEditModal = false;\n      this.showDepositSelectionTable = true;\n    },\n    closeObjectSelectionWindow() {\n      this.showDepositSelectionTable = false;\n    },\n    selectDeposit(data) {\n      this.deposit_id = data.deposit_id;\n      this.mine_area_id = data.mine_area_id;\n      this.showDepositSelectionTable = false;\n      this.showComponentSelectionModal = true;\n    },\n    selectComponent(data) {\n      this.component_id = data.component_id;\n      this.showComponentSelectionModal = false;\n      this.showEditModal = true;\n    },\n    getDepositInfo() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      };\n      const url = this.$BASE_URL + \"/api/get_deposit/\";\n      axios\n        .post(url, { deposit_id: this.deposit_id }, { headers })\n        .then((response) => {\n          if (!response.data[0].auth_fail) {\n            this.depositName = response.data[0].result.deposit_name;\n          }\n        });\n    },\n  },\n  components: {\n    ProtocolSelectionModal,\n    ProtocolEditModal,\n    ComponentSelectionModal,\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\nh3 {\n  color: black;\n  text-align: center;\n}\n\n.instrument {\n  text-align: justify;\n  position: absolute;\n  width: 300px;\n  height: 300px;\n  top: calc(50% - 150px);\n  left: calc(50% - 150px);\n}\n\n.main {\n  /*position: absolute;*/\n\n  /* Center form on page horizontally & vertically */\n  height: 100%;\n  width: calc(90%);\n  margin: auto;\n\n  font-weight: bolder;\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\n  border-style: none !important;\n  border-top: none !important;\n  border-bottom: none !important;\n  margin-bottom: 30px !important;\n  padding-bottom: 30px !important;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAM;;EAoBVA,KAAK,EAAC;AAAY;gEAE6BC,mBAAA,CAAM;;;;;;uBAtB5DC,mBAAA,CA8BM,OA9BNC,UA8BM,GA5BIC,KAAA,CAAAC,yBAAyB,I,cADjCC,YAAA,CAIEC,iCAAA;;IAFKC,QAAM,EAAEC,QAAA,CAAAC,0BAA0B;IAClCC,SAAO,EAAEF,QAAA,CAAAG;2FAMRR,KAAA,CAAAS,aAAa,I,cAJrBP,YAAA,CAMEQ,4BAAA;;IALOC,UAAU,EAAEX,KAAA,CAAAW,UAAU;IACtBC,YAAY,EAAEZ,KAAA,CAAAY,YAAY;IAC1BC,YAAY,EAAEC,IAAA,CAAAD,YAAY;IAE5BE,UAAQ,EAAEV,QAAA,CAAAW;8HAGThB,KAAA,CAAAiB,2BAA2B,I,cADnCf,YAAA,CAMEgB,kCAAA;;IAJOP,UAAU,EAAEX,KAAA,CAAAW,UAAU;IACtBC,YAAY,EAAEZ,KAAA,CAAAY,YAAY;IAC5BL,SAAO,EAAEF,QAAA,CAAAc,eAAe;IACxBf,QAAM,EAAEC,QAAA,CAAAe;yHAEfvB,mBAAA,CASM,OATNwB,UASM,G,iBATkB,sHAE4B,GAAAC,UAAM,EACxDzB,mBAAA,CAKS;IAJN0B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEpB,QAAA,CAAAqB,cAAA,IAAArB,QAAA,CAAAqB,cAAA,IAAAD,IAAA,CAAc;IACtB7B,KAAK,EAAC;KACP,0CAED,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}