{"ast":null,"code":"import axios from \"axios\";\nimport BootstrapIcon from \"@dvuckovic/vue3-bootstrap-icons\";\nimport ConfirmModal from \"../components/ConfirmModal.vue\";\nexport default {\n  name: \"UserItem\",\n  props: [\"user_id\", \"username\", \"role\"],\n  data() {\n    return {\n      showEditUser: false,\n      confirmMessage: \"\",\n      confirmHeader: \"\",\n      showConfirmModal: false,\n      userInfo: \"Имя пользователя: \" + this.username + \", Роль пользователя: \" + this.role\n    };\n  },\n  methods: {\n    onConfirm() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      };\n      const url = this.$BASE_URL + \"/api/delete_user/\";\n      axios.post(url, {\n        user_id: this.user_id\n      }, {\n        headers\n      }).then(() => {\n        this.showConfirmModal = false;\n        this.$emit(\"user-deleted\", {});\n      });\n    },\n    onCancel() {\n      this.showConfirmModal = false;\n    },\n    removeUser(e) {\n      this.confirmMessage = \"Удалить пользователя?\";\n      this.confirmHeader = \"Удаление данных!\";\n      this.showConfirmModal = true;\n      e.preventDefault();\n    },\n    editUser(e) {\n      this.$emit(\"user-edited\", {\n        user_id: this.user_id\n      });\n      e.preventDefault();\n    }\n  },\n  components: {\n    BootstrapIcon,\n    ConfirmModal\n  },\n  mounted() {}\n};","map":{"version":3,"names":["axios","BootstrapIcon","ConfirmModal","name","props","data","showEditUser","confirmMessage","confirmHeader","showConfirmModal","userInfo","username","role","methods","onConfirm","token","sessionStorage","getItem","headers","Authorization","url","$BASE_URL","post","user_id","then","$emit","onCancel","removeUser","e","preventDefault","editUser","components","mounted"],"sources":["/Users/fayzulla/Dev/kadastr/frontend/kadastr/src/components/UserItem.vue"],"sourcesContent":["<template>\n  <div class=\"item\">\n    <ConfirmModal\n      v-if=\"showConfirmModal\"\n      v-bind:message=\"confirmMessage\"\n      v-bind:header=\"confirmHeader\"\n      v-on:confirm=\"onConfirm\"\n      v-on:cancel=\"onCancel\"\n    />\n    <table style=\"border-style: none !important; width: 100%\">\n      <tr style=\"border-style: none !important; width: 100%\">\n        <td style=\"width: 50px; border-style: none !important\">\n          <button\n            @click=\"removeUser\"\n            class=\"btn btn-dark btn-lg btn-block\"\n            style=\"float: left; width: 200px\"\n          >\n            <BootstrapIcon icon=\"trash\" />\n            Удалить\n          </button>\n        </td>\n        <td style=\"width: 50px\">\n          <button\n            @click=\"editUser\"\n            class=\"btn btn-dark btn-lg btn-block\"\n            style=\"float: left; width: 200px\"\n          >\n            <BootstrapIcon icon=\"pencil\" />\n            Редактировать\n          </button>\n        </td>\n        <td style=\"width: 100%\">\n          <input\n            type=\"text\"\n            class=\"form-control form-control-lg\"\n            style=\"display: inline; width: calc(100%)\"\n            v-model=\"userInfo\"\n            disabled\n          />\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport BootstrapIcon from \"@dvuckovic/vue3-bootstrap-icons\";\nimport ConfirmModal from \"../components/ConfirmModal.vue\";\n\nexport default {\n  name: \"UserItem\",\n  props: [\"user_id\", \"username\", \"role\"],\n  data() {\n    return {\n      showEditUser: false,\n      confirmMessage: \"\",\n      confirmHeader: \"\",\n      showConfirmModal: false,\n      userInfo:\n        \"Имя пользователя: \" +\n        this.username +\n        \", Роль пользователя: \" +\n        this.role,\n    };\n  },\n  methods: {\n    onConfirm() {\n      const token = sessionStorage.getItem(\"token\");\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      };\n      const url = this.$BASE_URL + \"/api/delete_user/\";\n      axios.post(url, { user_id: this.user_id }, { headers }).then(() => {\n        this.showConfirmModal = false;\n        this.$emit(\"user-deleted\", {});\n      });\n    },\n    onCancel() {\n      this.showConfirmModal = false;\n    },\n    removeUser(e) {\n      this.confirmMessage = \"Удалить пользователя?\";\n      this.confirmHeader = \"Удаление данных!\";\n      this.showConfirmModal = true;\n      e.preventDefault();\n    },\n    editUser(e) {\n      this.$emit(\"user-edited\", { user_id: this.user_id });\n      e.preventDefault();\n    },\n  },\n  components: {\n    BootstrapIcon,\n    ConfirmModal,\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\nimg {\n  height: 30px;\n  width: 30px;\n}\n\n.item {\n  width: calc(100%);\n  height: 50px;\n  font-weight: bolder;\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\n  border-style: none !important;\n}\n.delete-btn {\n  height: 30px;\n  display: inline;\n  /*margin-right: 5px;*/\n}\n.save-btn {\n  height: 30px;\n  display: inline-block;\n  /*margin-right: 5px;*/\n}\n.inputfield {\n  display: inline;\n  height: 30px;\n  width: 330px;\n}\n</style>\n"],"mappings":"AA8CA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,aAAY,MAAO,iCAAiC;AAC3D,OAAOC,YAAW,MAAO,gCAAgC;AAEzD,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,MAAM,CAAC;EACtCC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,KAAK;MACnBC,cAAc,EAAE,EAAE;MAClBC,aAAa,EAAE,EAAE;MACjBC,gBAAgB,EAAE,KAAK;MACvBC,QAAQ,EACN,oBAAmB,GACnB,IAAI,CAACC,QAAO,GACZ,uBAAsB,GACtB,IAAI,CAACC;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAAA,EAAG;MACV,MAAMC,KAAI,GAAIC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;MAC7C,MAAMC,OAAM,GAAI;QACd,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,SAAQ,GAAIJ;MAC7B,CAAC;MACD,MAAMK,GAAE,GAAI,IAAI,CAACC,SAAQ,GAAI,mBAAmB;MAChDrB,KAAK,CAACsB,IAAI,CAACF,GAAG,EAAE;QAAEG,OAAO,EAAE,IAAI,CAACA;MAAQ,CAAC,EAAE;QAAEL;MAAQ,CAAC,CAAC,CAACM,IAAI,CAAC,MAAM;QACjE,IAAI,CAACf,gBAAe,GAAI,KAAK;QAC7B,IAAI,CAACgB,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;MAChC,CAAC,CAAC;IACJ,CAAC;IACDC,QAAQA,CAAA,EAAG;MACT,IAAI,CAACjB,gBAAe,GAAI,KAAK;IAC/B,CAAC;IACDkB,UAAUA,CAACC,CAAC,EAAE;MACZ,IAAI,CAACrB,cAAa,GAAI,uBAAuB;MAC7C,IAAI,CAACC,aAAY,GAAI,kBAAkB;MACvC,IAAI,CAACC,gBAAe,GAAI,IAAI;MAC5BmB,CAAC,CAACC,cAAc,EAAE;IACpB,CAAC;IACDC,QAAQA,CAACF,CAAC,EAAE;MACV,IAAI,CAACH,KAAK,CAAC,aAAa,EAAE;QAAEF,OAAO,EAAE,IAAI,CAACA;MAAQ,CAAC,CAAC;MACpDK,CAAC,CAACC,cAAc,EAAE;IACpB;EACF,CAAC;EACDE,UAAU,EAAE;IACV9B,aAAa;IACbC;EACF,CAAC;EACD8B,OAAOA,CAAA,EAAG,CAAC;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}