(function(){"use strict";var e={91:function(e,t,o){var s=o(9963),a=o(6252),l="data:image/png;base64,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";const i=e=>((0,a.dD)("data-v-7fff9ca2"),e=e(),(0,a.Cn)(),e),n={key:0},r={key:0},d=i((()=>(0,a._)("div",{class:"title"},"Система ведения кадастровой инфомации",-1))),c={class:"menu_container"},p={class:"menu"},h={id:"nav"},m=i((()=>(0,a._)("img",{src:l,alt:"Micromine",width:"150",id:"logo_top"},null,-1))),u={key:1},_=i((()=>(0,a._)("img",{src:l,alt:"Micromine",width:"150",id:"logo"},null,-1)));function g(e,t,o,s,l,i){const g=(0,a.up)("router-link"),f=(0,a.up)("router-view"),y=(0,a.up)("Login");return l.loaded?((0,a.wg)(),(0,a.iD)("div",n,[l.isAuthenticated?((0,a.wg)(),(0,a.iD)("div",r,[d,(0,a._)("div",c,[(0,a._)("div",p,[(0,a._)("div",h,[m,(0,a.Wm)(g,{to:"/dicts"},{default:(0,a.w5)((()=>[(0,a.Uk)("Общие справочники")])),_:1}),(0,a.Uk)(" | "),(0,a.Wm)(g,{to:"/districts"},{default:(0,a.w5)((()=>[(0,a.Uk)("Справочники районов")])),_:1}),(0,a.Uk)(" | "),(0,a.Wm)(g,{to:"/deposits"},{default:(0,a.w5)((()=>[(0,a.Uk)("Месторождения")])),_:1}),(0,a.Uk)(" | "),(0,a.Wm)(g,{to:"/reports"},{default:(0,a.w5)((()=>[(0,a.Uk)("Отчеты")])),_:1}),(0,a.Uk)(" | "),(0,a.Wm)(g,{to:"/security"},{default:(0,a.w5)((()=>[(0,a.Uk)("Безопасность")])),_:1}),(0,a.Uk)(" | "),(0,a.Wm)(g,{to:"/about"},{default:(0,a.w5)((()=>[(0,a.Uk)("О программе")])),_:1}),(0,a.Uk)(" | "),(0,a._)("a",{href:"#",onClick:t[0]||(t[0]=e=>i.logout())},"Выход")])])]),(0,a.Wm)(f)])):(0,a.kq)("",!0),l.isAuthenticated?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(y),_]))])):(0,a.kq)("",!0)}o(7658);var f=o(9669),y=o.n(f);const w=e=>((0,a.dD)("data-v-330ba40d"),e=e(),(0,a.Cn)(),e),v={class:"login-div"},b=w((()=>(0,a._)("h3",null," Система ведения государственного геологического кадастра Республики Узбекистан ",-1))),k={class:"login-form"},I={class:"form-group"},A=w((()=>(0,a._)("label",null,"Учетная запись",-1))),C={class:"input-group input-group-lg"},D={class:"input-group-addon"},M={class:"input-group-text"},x={class:"form-group"},H=w((()=>(0,a._)("label",null,"Пароль",-1))),U={class:"input-group input-group-lg"},S={class:"input-group-append"},E={class:"input-group-text"},B={class:"form-group",style:{"margin-top":"10px"}},T={key:0,class:"form-group",style:{"margin-top":"10px"}},V=w((()=>(0,a._)("div",{class:"alert alert-danger",role:"alert"}," Неверный логин или пароль ",-1))),P=[V];function z(e,t,o,l,i,n){const r=(0,a.up)("OkModal"),d=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",v,[i.showDsModal?((0,a.wg)(),(0,a.j4)(r,{key:0,header:i.dsOffer,message:i.dsNotImplMsg,onConfirm:n.closeDsModal},null,8,["header","message","onConfirm"])):(0,a.kq)("",!0),b,(0,a._)("form",k,[(0,a._)("div",I,[A,(0,a._)("div",C,[(0,a._)("div",D,[(0,a._)("span",M,[(0,a.Wm)(d,{icon:"person",size:"2x"})])]),(0,a.wy)((0,a._)("input",{type:"username",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[s.nr,i.username]])])]),(0,a._)("div",x,[H,(0,a._)("div",U,[(0,a._)("div",S,[(0,a._)("span",E,[(0,a.Wm)(d,{icon:"lock",size:"2x"})])]),(0,a.wy)((0,a._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e)},null,512),[[s.nr,i.password]])])]),(0,a._)("div",B,[(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>n.login&&n.login(...e)),class:"btn btn-dark btn-lg btn-block"},[(0,a.Wm)(d,{icon:"arrow-right-square",size:"1x"}),(0,a.Uk)(" Войти ")]),(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>n.dslogin&&n.dslogin(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"right"}},[(0,a.Wm)(d,{icon:"key",size:"1x"}),(0,a.Uk)(" Войти с цифровым ключом ")])]),i.failed?((0,a.wg)(),(0,a.iD)("div",T,P)):(0,a.kq)("",!0)]),(0,a.Uk)(" Мы поддерживаем RSA ключи Tokey®JCOP3 от CrypToken ")])}var L=o(3577);const j={class:"modal-mask"},R={class:"modal-window"},W={class:"header"},N={class:"message"};function O(e,t,o,s,l,i){return(0,a.wg)(),(0,a.iD)("div",j,[(0,a._)("div",R,[(0,a._)("div",W,(0,L.zw)(o.header),1),(0,a._)("div",N,(0,L.zw)(o.message),1),(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.confirm&&i.confirm(...e)),class:"btn btn-dark btn-lg btn-block close"}," OK ")])])}var q={name:"OkModal",props:["header","message"],data(){return{}},methods:{confirm(){this.$emit("confirm",{})}},mounted(){}},F=o(3744);const Z=(0,F.Z)(q,[["render",O],["__scopeId","data-v-5ecc3b04"]]);var Y=Z,X=o(4308),K={name:"Login",data(){return{username:"",password:"",failed:!1,dsOffer:"Использование лицензионного ключа для входа",dsNotImplMsg:"Обратитесь к производителю ПО для консультации",showDsModal:!1}},methods:{login(e){const t={username:this.username,password:this.password},o={"Content-Type":"application/json"};y().post(this.$BASE_URL+"/auth/signin/",t,{headers:o}).then((e=>{e.data[0].success&&(sessionStorage.setItem("token",e.data[0].token),this.$parent.isAuthenticated=!0,this.$router.push("/deposits/")),this.failed=!e.data[0].success})),e.preventDefault()},dslogin(e){this.showDsModal=!0,e.preventDefault()},closeDsModal(){this.showDsModal=!1}},components:{OkModal:Y,BootstrapIcon:X.Z}};const $=(0,F.Z)(K,[["render",z],["__scopeId","data-v-330ba40d"]]);var G=$,J={name:"App",data(){return{isAuthenticated:!1,loaded:!1}},methods:{checkAuth(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/auth/validate_token/";console.log(o),y().post(o,{},{headers:t}).then((e=>{this.loaded=!0,e.data[0].valid?this.isAuthenticated=!0:this.isAuthenticated=!1}))},logout(){sessionStorage.setItem("token",null),this.isAuthenticated=!1,this.$router.push("/")},pollAuthData(){this.polling=setInterval((()=>{this.checkAuth()}),6e4)}},mounted(){this.checkAuth(),this.pollAuthData(),this.$router.push("/")},components:{Login:G}};const Q=(0,F.Z)(J,[["render",g],["__scopeId","data-v-7fff9ca2"]]);var ee=Q,te=o(2201);const oe={class:"menu"},se={class:"props"},ae={style:{"font-weight":"bold","text-align":"center"}};function le(e,t,o,s,l,i){const n=(0,a.up)("DirectoryMenu"),r=(0,a.up)("PropertyTable");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",oe,[(0,a.Wm)(n,{onItemClicked:i.menuItemClicked},null,8,["onItemClicked"])]),(0,a._)("div",se,[(0,a._)("div",ae," Справочные данные: "+(0,L.zw)(l.description),1),l.loaded?((0,a.wg)(),(0,a.j4)(r,{key:0,category:l.category},null,8,["category"])):(0,a.kq)("",!0)])])}const ie={class:"table"};function ne(e,t,o,s,l,i){const n=(0,a.up)("Spinner"),r=(0,a.up)("Filter"),d=(0,a.up)("PropertyItem"),c=(0,a.up)("ProperyNewItem"),p=(0,a.up)("Paginator");return(0,a.wg)(),(0,a.iD)("div",ie,[l.showSpinner?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(r,{onFilter:i.filterTable,filterVal:l.filter},null,8,["onFilter","filterVal"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.items,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,displayButtons:!0,id:e.id,category:e.category,description:e.description,onUpdated:i.updated,onLoaded:i.onItemLoaded},null,8,["id","category","description","onUpdated","onLoaded"])))),128)),(0,a.Wm)(c,{category:l.categoryLocal,onUpdated:i.updated},null,8,["category","onUpdated"]),(0,a.Wm)(p,{count:l.totalItems,ipp:l.ipp,currentPage:l.page,onPageClick:i.changePage},null,8,["count","ipp","currentPage","onPageClick"])])}const re={class:"item"},de={style:{"border-style":"none !important",width:"100%"}},ce={style:{"border-style":"none !important",width:"100%"}},pe={style:{width:"50px","border-style":"none !important"}},he={style:{width:"50px"}},me={style:{width:"100%"}};function ue(e,t,o,l,i,n){const r=(0,a.up)("OkModal"),d=(0,a.up)("ConfirmModal"),c=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",re,[i.showError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.errorMessage,header:i.header,onConfirm:n.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),i.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:1,message:i.authMessage,header:i.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),i.showConfirmModal?((0,a.wg)(),(0,a.j4)(d,{key:2,message:i.confirmMessage,header:i.confirmHeader,onConfirm:n.onConfirm,onCancel:n.onCancel},null,8,["message","header","onConfirm","onCancel"])):(0,a.kq)("",!0),(0,a._)("table",de,[(0,a._)("tr",ce,[(0,a._)("td",pe,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.removeItem&&n.removeItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(c,{icon:"trash"}),(0,a.Uk)(" Удалить запись ")])]),(0,a._)("td",he,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.saveItem&&n.saveItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(c,{icon:"save"}),(0,a.Uk)(" Сохранить ")])]),(0,a._)("td",me,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[2]||(t[2]=e=>i.itemDescription=e)},null,512),[[s.nr,i.itemDescription]])])])])])}const _e={class:"modal-mask"},ge={class:"modal-window"},fe={class:"header"},ye={class:"message"};function we(e,t,o,s,l,i){return(0,a.wg)(),(0,a.iD)("div",_e,[(0,a._)("div",ge,[(0,a._)("div",fe,(0,L.zw)(o.header),1),(0,a._)("div",ye,(0,L.zw)(o.message),1),(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.confirm&&i.confirm(...e)),class:"btn btn-dark btn-lg btn-block confirm"}," Подтвердить "),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>i.cancel&&i.cancel(...e)),class:"btn btn-dark btn-lg btn-block cancel"}," Отменить ")])])}var ve={name:"ConfirmModal",props:["header","message"],data(){return{}},methods:{confirm(){this.$emit("confirm",{})},cancel(){this.$emit("cancel",{})}},mounted(){}};const be=(0,F.Z)(ve,[["render",we],["__scopeId","data-v-1df2917a"]]);var ke=be,Ie={name:"PropertyItem",props:["displayButtons","id","category","description"],data(){return{header:"Сохранение данных формы",errorMessage:"",showError:!1,itemCategory:this.category,itemId:this.id,itemDescription:this.description,confirmMessage:"",confirmHeader:"",showConfirmModal:!1,showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности"}},methods:{hideAuthMessage(){this.showAuthError=!1},hideErrorMessage(){this.showError=!1,this.$emit("updated",{})},onConfirm(){this.showConfirmModal=!1;const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/delete_dictionary_contents/";y().post(o,{id:this.itemId,category:this.itemCategory},{headers:t}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:e.data[0].result?this.$emit("updated",{}):(this.showError=!0,this.header="Ошибка при удаление данных",this.errorMessage=e.data[0].reason)}))},onCancel(){this.showConfirmModal=!1},removeItem(e){this.confirmMessage="Удалить справочные данные? Это приведет к потере данных (месторождений, участков, лицензий, запасов, а также всех движений и исторических данных!)",this.confirmHeader="Удаление данных!",this.showConfirmModal=!0,e.preventDefault()},saveItem(e){const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t},s=this.$BASE_URL+"/api/update_dictionary_contents/";y().post(s,{id:this.itemId,category:this.itemCategory,description:this.itemDescription},{headers:o}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:e.data[0].result?(this.showError=!0,this.errorMessage="Данные сохранены"):(this.showError=!0,this.header="Ошибка при сохранение данных",this.errorMessage=e.data[0].reason)})),e.preventDefault()}},components:{BootstrapIcon:X.Z,OkModal:Y,ConfirmModal:ke},mounted(){this.$emit("loaded")}};const Ae=(0,F.Z)(Ie,[["render",ue],["__scopeId","data-v-376248ed"]]);var Ce=Ae;const De={class:"item"},Me={style:{"border-style":"none !important",width:"100%"}},xe={style:{"border-style":"none !important",width:"100%"}},He={style:{width:"50px","border-style":"none !important"}},Ue={style:{width:"100%"}};function Se(e,t,o,l,i,n){const r=(0,a.up)("OkModal"),d=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",De,[i.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.authMessage,header:i.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),(0,a._)("table",Me,[(0,a._)("tr",xe,[(0,a._)("td",He,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.addItem&&n.addItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"300px"}},[(0,a.Wm)(d,{icon:"database-add"}),(0,a.Uk)(" Добавить новую запись ")])]),(0,a._)("td",Ue,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[1]||(t[1]=e=>i.itemDescription=e)},null,512),[[s.nr,i.itemDescription]])])])])])}var Ee={name:"PropertyNewItem",props:["category"],data(){return{itemCategory:this.category,itemDescription:"",showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности"}},watch:{category:{deep:!0,handler(e){this.itemCategory=e}}},methods:{hideAuthMessage(){this.showAuthError=!1,this.$emit("updated",{})},addItem(e){const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t},s=this.$BASE_URL+"/api/add_dictionary_contents/";y().post(s,{category:this.itemCategory,description:this.itemDescription},{headers:o}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:this.itemDescription=""})),e.preventDefault()}},components:{BootstrapIcon:X.Z,OkModal:Y},mounted(){}};const Be=(0,F.Z)(Ee,[["render",Se],["__scopeId","data-v-68767f93"]]);var Te=Be;const Ve=e=>((0,a.dD)("data-v-874161d2"),e=e(),(0,a.Cn)(),e),Pe={key:0,class:"paginator",style:{"border-style":"none"}},ze={class:"info"},Le=["onClick"],je=Ve((()=>(0,a._)("div",{style:{"margin-bottom":"30px",height:"30px"}},null,-1)));function Re(e,t,o,s,l,i){return l.numPages>1?((0,a.wg)(),(0,a.iD)("div",Pe,[(0,a._)("div",{class:(0,L.C_)(1==o.autoMargin?"container":""),style:{"border-style":"none"}},[(0,a._)("div",ze," Общее количество страниц: "+(0,L.zw)(l.numPages)+" Общее количество записей: "+(0,L.zw)(o.count)+" Текущая страница: "+(0,L.zw)(o.currentPage),1),l.showArrows?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.prev&&i.prev(...e)),class:"btn btn-dark btn-lg btn-block paginator-btn",style:{float:"left"}}," < ")):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.pageRange,(e=>((0,a.wg)(),(0,a.iD)("button",{key:e,onClick:t=>i.navigate(t,e),class:(0,L.C_)(["btn btn-dark btn-lg btn-block paginator-btn",e==l.selected?"active":""]),style:{float:"left"}},(0,L.zw)(e),11,Le)))),128)),l.showArrows?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>i.next&&i.next(...e)),class:"btn btn-dark btn-lg btn-block paginator-btn",style:{float:"left"}}," > ")):(0,a.kq)("",!0),je],2)])):(0,a.kq)("",!0)}o(541);var We={name:"Paginator",props:["count","ipp","currentPage","autoMargin"],data(){return{maxPages:10,numPages:Math.ceil(this.count/this.ipp),pageRange:[],selected:1,showArrows:!1}},watch:{count:{deep:!0,handler(e){if(this.numPages=Math.ceil(e/this.ipp),this.pageRange=[],this.maxPages<this.numPages){this.showArrows=!0;for(var t=1;t<=this.maxPages;t++)this.pageRange.push(t)}else{this.showArrows=!1;for(var o=1;o<=this.numPages;o++)this.pageRange.push(o)}}},currentPage:{deep:!0,handler(e){if(1==e)if(this.pageRange=[],this.maxPages<this.numPages){this.showArrows=!0;for(var t=1;t<=this.maxPages;t++)this.pageRange.push(t)}else{this.showArrows=!1;for(var o=1;o<=this.numPages;o++)this.pageRange.push(o)}this.selected=e}}},methods:{next(){this.selected==this.pageRange[this.maxPages-1]&&this.selected+1<=this.numPages?(this.pageRange.shift(),this.pageRange.push(this.selected+1),this.selected++,this.$emit("page-click",{page:this.selected})):this.selected+1<=this.numPages&&(this.selected++,this.$emit("page-click",{page:this.selected}))},prev(){this.selected==this.pageRange[0]&&this.selected-1>0?(this.pageRange.pop(),this.pageRange.unshift(this.selected-1),this.selected--,this.$emit("page-click",{page:this.selected})):this.selected-1>0&&(this.selected--,this.$emit("page-click",{page:this.selected}))},navigate(e,t){e.preventDefault(),this.selected=t,this.$emit("page-click",{page:t})}},components:{},mounted(){if(console.log("Number of pages "+this.numPages),this.selected=1,this.maxPages<this.numPages){this.showArrows=!0;for(var e=this.selected;e<this.selected+this.maxPages;e++)this.pageRange.push(e)}else for(var t=1;t<=this.numPages;t++)this.pageRange.push(t)},updated(){if(console.log("Number of pages "+this.numPages),0==this.pageRange.length){if(this.selected=1,this.maxPages<this.numPages){this.showArrows=!0;for(var e=this.selected;e<this.selected+this.maxPages;e++)this.pageRange.push(e)}else for(var t=1;t<=this.numPages;t++)this.pageRange.push(t);this.$emit("page-click",{page:this.selected})}}};const Ne=(0,F.Z)(We,[["render",Re],["__scopeId","data-v-874161d2"]]);var Oe=Ne;const qe={class:"filter"},Fe={style:{"border-style":"none !important",width:"100%"}},Ze={style:{"border-style":"none !important",width:"100%"}},Ye={style:{"border-style":"none !important"}},Xe={style:{"border-style":"none !important"}},Ke={style:{width:"100%"}};function $e(e,t,o,l,i,n){const r=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",qe,[(0,a._)("table",Fe,[(0,a._)("tr",Ze,[(0,a._)("td",Ye,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.applyFilter&&n.applyFilter(...e)),class:"btn btn-dark btn-lg",style:{float:"left",width:"50px"}},[(0,a.Wm)(r,{icon:"filter"})])]),(0,a._)("td",Xe,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.clearFilter&&n.clearFilter(...e)),class:"btn btn-dark btn-lg",style:{float:"left",width:"50px"}},[(0,a.Wm)(r,{icon:"arrow-clockwise"})])]),(0,a._)("td",Ke,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[2]||(t[2]=e=>i.filter=e),placeholder:"Ввдите частичное или полное название месторождения"},null,512),[[s.nr,i.filter]])])])])])}var Ge={name:"Filter",props:["filterVal"],watch:{filterVal:{deep:!0,handler(e){this.filter=e}}},data(){return{filter:""}},methods:{applyFilter(e){this.$emit("filter",this.filter),e.preventDefault()},clearFilter(e){this.filter="",this.$emit("filter",this.filter),e.preventDefault()}},components:{BootstrapIcon:X.Z},mounted(){}};const Je=(0,F.Z)(Ge,[["render",$e],["__scopeId","data-v-2fe90b84"]]);var Qe=Je,et=o.p+"img/spinner.0a3da0e2.gif";const tt=e=>((0,a.dD)("data-v-445c6d63"),e=e(),(0,a.Cn)(),e),ot={class:"modal-mask"},st=tt((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("img",{src:et})],-1))),at=[st];function lt(e,t,o,s,l,i){return(0,a.wg)(),(0,a.iD)("div",ot,at)}var it={name:"Spinner",props:[],data(){return{}},methods:{},mounted(){}};const nt=(0,F.Z)(it,[["render",lt],["__scopeId","data-v-445c6d63"]]);var rt=nt,dt={name:"PropertyTable",props:["category"],watch:{category:{deep:!0,handler(e){this.categoryLocal=e,this.page=1,this.countItems(),this.loadItems()}}},data(){return{items:[],categoryLocal:this.category,totalItems:0,page:1,ipp:10,filter:"",loadedItems:0,showSpinner:!0}},methods:{countItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_dictionary_count/";y().post(o,{category:this.categoryLocal,item:this.filter},{headers:t}).then((e=>{e.data.auth_fail||(this.totalItems=e.data.result)}))},loadItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_dictionary_contents/";const s=(this.page-1)*this.ipp;y().post(o,{category:this.categoryLocal,item:this.filter,offset:s,limit:this.ipp},{headers:t}).then((e=>{e.data[0].auth_fail||(console.log(JSON.stringify(e.data[0].result)),this.items=e.data[0].result)}))},onItemLoaded(){this.loadedItems++,this.loadedItems==this.ipp&&(this.loadedItems=0,this.showSpinner=!1),0==this.loadedItems&&this.totalItems-this.ipp*Math.floor(this.totalItems/this.ipp)&&(this.loadedItems=0,this.showSpinner=!1),this.loadedItems==this.totalItems&&(this.loadedItems=0,this.showSpinner=!1)},changePage(e){this.page=e.page,this.loadItems()},updated(){this.page=1,this.filter="",this.countItems(),this.loadItems()},filterTable(e){this.page=1,this.filter=e,this.countItems(),this.loadItems()}},components:{PropertyItem:Ce,ProperyNewItem:Te,Paginator:Oe,Filter:Qe,Spinner:rt},mounted(){this.countItems(),this.loadItems()}};const ct=(0,F.Z)(dt,[["render",ne],["__scopeId","data-v-34fc43da"]]);var pt=ct;const ht={class:"menu"},mt=["onClick"];function ut(e,t,o,s,l,i){return(0,a.wg)(),(0,a.iD)("div",ht,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.items,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,L.C_)(["menu-item",e.selected?"selected-menu-item":""]),onClick:t=>i.loadDictionary(e.category),key:t},(0,L.zw)(e.description),11,mt)))),128))])}var _t={name:"DirectoryMenu",props:[],watch:{},data(){return{items:[]}},methods:{loadMenu(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_all_dictionaries/";y().get(o,{headers:t}).then((e=>{if(!e.data.auth_fail){this.items=JSON.parse(JSON.stringify(e.data.result));var t=0;for(var o of this.items)0==t?(o.selected=!0,this.loadDictionary(o.category,o.description)):o.selected=!1,t++}}))},loadDictionary(e){for(var t of this.items)t.category==e?(t.selected=!0,this.$emit("item-clicked",t)):t.selected=!1}},components:{},mounted(){this.loadMenu()}};const gt=(0,F.Z)(_t,[["render",ut],["__scopeId","data-v-b4726ac2"]]);var ft=gt,yt={name:"Dicts",data(){return{loaded:!1,category:null,description:""}},methods:{getAllCategories(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};y().get(this.$BASE_URL+"/api/get_all_dictionaries/",{headers:t}).then((e=>{console.log(!e.data.auth_fail),e.data.auth_fail||(this.loaded=!0,this.category="SPR_ED_IZM",console.log("Dictionaries loaded"))}))},menuItemClicked(e){this.category=e.category,this.description=e.description}},components:{PropertyTable:pt,DirectoryMenu:ft},mounted(){this.getAllCategories()}};const wt=(0,F.Z)(yt,[["render",le],["__scopeId","data-v-9e802e48"]]);var vt=wt;const bt={class:"menu"},kt={class:"props"},It={style:{"font-weight":"bold","text-align":"center"}};function At(e,t,o,s,l,i){const n=(0,a.up)("AreaMenu"),r=(0,a.up)("DistrictTable");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",bt,[(0,a.Wm)(n,{onAreaClicked:i.menuItemClicked},null,8,["onAreaClicked"])]),(0,a._)("div",kt,[(0,a._)("div",It," Спаравочник районов: "+(0,L.zw)(l.area_name),1),l.loaded?((0,a.wg)(),(0,a.j4)(r,{key:0,id_area:l.id_area},null,8,["id_area"])):(0,a.kq)("",!0)])])}const Ct={class:"table"};function Dt(e,t,o,s,l,i){const n=(0,a.up)("Spinner"),r=(0,a.up)("Filter"),d=(0,a.up)("DistrictItem"),c=(0,a.up)("DistrictNewItem"),p=(0,a.up)("Paginator");return(0,a.wg)(),(0,a.iD)("div",Ct,[l.showSpinner?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(r,{onFilter:i.filterTable,filterVal:l.filter},null,8,["onFilter","filterVal"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.items,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id_district+"_"+e.id_area,id:e.id_district+"_"+e.id_area,displayButtons:!0,id_republic:1,id_area:e.id_area,id_district:e.id_district,district_name:e.district_name,onDistrictUpdated:i.updated},null,8,["id","id_area","id_district","district_name","onDistrictUpdated"])))),128)),(0,a.Wm)(c,{id_area:l.areaIdLocal,onDistrictUpdated:i.added},null,8,["id_area","onDistrictUpdated"]),(0,a.Wm)(p,{count:l.totalItems,ipp:l.ipp,currentPage:l.page,onPageClick:i.changePage},null,8,["count","ipp","currentPage","onPageClick"])])}const Mt={class:"item"},xt={style:{"border-style":"none !important",width:"100%"}},Ht={style:{"border-style":"none !important",width:"100%"}},Ut={style:{width:"50px","border-style":"none !important"}},St={style:{width:"50px"}},Et={style:{width:"100%"}};function Bt(e,t,o,l,i,n){const r=(0,a.up)("OkModal"),d=(0,a.up)("ConfirmModal"),c=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",Mt,[i.showError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.errorMessage,header:i.header,onConfirm:n.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),i.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:1,message:i.authMessage,header:i.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),i.showConfirmModal?((0,a.wg)(),(0,a.j4)(d,{key:2,message:i.confirmMessage,header:i.confirmHeader,onConfirm:n.onConfirm,onCancel:n.onCancel},null,8,["message","header","onConfirm","onCancel"])):(0,a.kq)("",!0),(0,a._)("table",xt,[(0,a._)("tr",Ht,[(0,a._)("td",Ut,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.removeItem&&n.removeItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(c,{icon:"trash"}),(0,a.Uk)(" Удалить ")])]),(0,a._)("td",St,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.saveItem&&n.saveItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(c,{icon:"save"}),(0,a.Uk)(" Сохранить ")])]),(0,a._)("td",Et,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[2]||(t[2]=e=>i.districtName=e)},null,512),[[s.nr,i.districtName]])])])])])}var Tt={name:"DistrictItem",props:["displayButtons","id_republic","id_area","id_district","district_name"],data(){return{header:"Сохранение данных формы",errorMessage:"",showError:!1,areaId:this.id_area,republicId:this.id_republic,districtId:this.id_district,districtName:this.district_name,confirmMessage:"",confirmHeader:"",showConfirmModal:!1,showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности"}},methods:{hideAuthMessage(){this.showAuthError=!1},hideErrorMessage(){this.showError=!1,this.$emit("district-updated",{})},onConfirm(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/delete_district/";y().post(o,{republic_id:this.republicId,area_id:this.areaId,district_id:this.districtId},{headers:t}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:this.$emit("district-updated",{})}))},onCancel(){this.showConfirmModal=!1},removeItem(e){this.confirmMessage="Удалить район? Это приведет к потере данных (месторождений, участков, лицензий, запасов, а также всех движений и исторических данных!)",this.confirmHeader="Удаление данных!",this.showConfirmModal=!0,e.preventDefault()},saveItem(e){const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t},s=this.$BASE_URL+"/api/update_district/";y().post(s,{republic_id:this.republicId,area_id:this.areaId,district_id:this.districtId,distrcit_name:this.districtName},{headers:o}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:(this.showError=!0,this.errorMessage="Данные сохранены")})),e.preventDefault()}},components:{BootstrapIcon:X.Z,OkModal:Y,ConfirmModal:ke},mounted(){}};const Vt=(0,F.Z)(Tt,[["render",Bt],["__scopeId","data-v-ff51876e"]]);var Pt=Vt;const zt={class:"item"},Lt={style:{"border-style":"none !important",width:"100%"}},jt={style:{"border-style":"none !important",width:"100%"}},Rt={style:{width:"50px","border-style":"none !important"}},Wt={style:{width:"100%"}};function Nt(e,t,o,l,i,n){const r=(0,a.up)("OkModal"),d=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",zt,[i.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.authMessage,header:i.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),(0,a._)("table",Lt,[(0,a._)("tr",jt,[(0,a._)("td",Rt,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.addItem&&n.addItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"300px"}},[(0,a.Wm)(d,{icon:"database-add"}),(0,a.Uk)(" Добавить новую запись ")])]),(0,a._)("td",Wt,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[1]||(t[1]=e=>i.districtName=e)},null,512),[[s.nr,i.districtName]])])])])])}var Ot={name:"DistrictNewItem",props:["id_republic","id_area"],data(){return{areaId:this.id_area,republicId:this.id_republic,districtName:"",showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности"}},watch:{id_area:{deep:!0,handler(e){this.areaId=e}},id_republic:{deep:!0,handler(e){this.republicId=e}}},methods:{hideAuthMessage(){this.$emit("district-updated",{}),this.showAuthError=!1},addItem(e){const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t},s=this.$BASE_URL+"/api/add_district/";y().post(s,{area_id:this.areaId,district_name:this.districtName},{headers:o}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:this.districtName=""})),e.preventDefault()}},components:{BootstrapIcon:X.Z,OkModal:Y},mounted(){}};const qt=(0,F.Z)(Ot,[["render",Nt],["__scopeId","data-v-2feb161b"]]);var Ft=qt,Zt={name:"DistrictTable",props:["id_area"],watch:{id_area:{deep:!0,handler(e){this.page=1,this.showSpinner=!0,this.areaIdLocal=e,console.log(this.areaIdLocal),this.countItems()}}},data(){return{items:[],areaIdLocal:this.id_area,totalItems:0,page:1,ipp:10,filter:"",loadedItems:0,showSpinner:!0}},methods:{countItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_district_count/";y().post(o,{area_id:this.areaIdLocal,district_name:this.filter},{headers:t}).then((e=>{e.data[0].auth_fail||(this.totalItems=e.data[0].result,console.log(this.totalItems),this.loadItems())}))},loadItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_districts/";const s=(this.page-1)*this.ipp;console.log({id_area:this.areaIdLocal,district_name:this.filter,offset:s,limit:this.ipp}),y().post(o,{id_area:this.areaIdLocal,district_name:this.filter,offset:s,limit:this.ipp},{headers:t}).then((e=>{e.data[0].auth_fail||(this.items=e.data[0].result,this.loadedItems=0,this.showSpinner=!1)}))},changePage(e){this.page=e.page,this.countItems()},added(){this.page=1,this.filter="",this.countItems()},updated(){this.filter="",this.countItems()},filterTable(e){this.page=1,this.filter=e,this.countItems()}},components:{DistrictItem:Pt,DistrictNewItem:Ft,Paginator:Oe,Filter:Qe,Spinner:rt},mounted(){this.page=1,this.countItems()}};const Yt=(0,F.Z)(Zt,[["render",Dt],["__scopeId","data-v-d7f5f044"]]);var Xt=Yt;const Kt={class:"menu"},$t=["onClick"];function Gt(e,t,o,s,l,i){return(0,a.wg)(),(0,a.iD)("div",Kt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.items,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,L.C_)(["menu-item",e.selected?"selected-menu-item":""]),onClick:t=>i.loadArea(e.id_republic,e.id_area),key:t},(0,L.zw)(e.area_name),11,$t)))),128))])}var Jt={name:"AreaMenu",props:[],watch:{},data(){return{items:[]}},methods:{loadMenu(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_areas/";y().post(o,{offset:0,limit:100},{headers:t}).then((e=>{if(!e.data[0].auth_fail){this.items=JSON.parse(JSON.stringify(e.data[0].result));var t=0;for(var o of this.items)0==t?(o.selected=!0,this.loadArea(o.id_republic,o.id_area)):o.selected=!1,t++}}))},loadArea(e,t){for(var o of this.items)o.id_area==t&&o.id_republic==e?(o.selected=!0,this.$emit("area-clicked",o)):o.selected=!1}},components:{},mounted(){this.loadMenu()}};const Qt=(0,F.Z)(Jt,[["render",Gt],["__scopeId","data-v-4e6a889a"]]);var eo=Qt,to={name:"Districts",data(){return{loaded:!1,id_republic:1,id_area:1,area_name:""}},methods:{menuItemClicked(e){this.loaded=!0,this.id_republic=e.id_republic,this.id_area=e.id_area,this.area_name=e.area_name}},components:{DistrictTable:Xt,AreaMenu:eo},mounted(){}};const oo=(0,F.Z)(to,[["render",At],["__scopeId","data-v-7d10c8b0"]]);var so=oo;const ao={class:"security"},lo={key:4,class:"disclaimer"};function io(e,t,o,s,l,i){const n=(0,a.up)("ConfirmModal"),r=(0,a.up)("OkModal"),d=(0,a.up)("Spinner"),c=(0,a.up)("UsersTable");return(0,a.wg)(),(0,a.iD)("div",ao,[l.showConfirmModal?((0,a.wg)(),(0,a.j4)(n,{key:0,message:e.confirmMessage,header:e.confirmHeader,onConfirm:e.onConfirm,onCancel:e.onCancel},null,8,["message","header","onConfirm","onCancel"])):(0,a.kq)("",!0),l.showError?((0,a.wg)(),(0,a.j4)(r,{key:1,message:l.errorMessage,header:l.header,onConfirm:e.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),l.showSpinner?((0,a.wg)(),(0,a.j4)(d,{key:2})):(0,a.kq)("",!0),l.hasPermissions?((0,a.wg)(),(0,a.j4)(c,{key:3})):(0,a.kq)("",!0),l.hasPermissions?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",lo," Добро пожаловать в конфигурацию системы безопасности. Здесь вы сможете добавить пользователей, удалить пользователей, назначить пользователей в группы, задать пароль для пользователя. Данный функционал доступен только для администраторов системы! "))])}const no=e=>((0,a.dD)("data-v-040a9204"),e=e(),(0,a.Cn)(),e),ro={class:"table"},co=no((()=>(0,a._)("div",{class:"separator"},null,-1))),po={class:"add"},ho=no((()=>(0,a._)("div",{class:"separator"},null,-1)));function mo(e,t,o,s,l,i){const n=(0,a.up)("Spinner"),r=(0,a.up)("EditUserModal"),d=(0,a.up)("OkModal"),c=(0,a.up)("NewUserModal"),p=(0,a.up)("Filter"),h=(0,a.up)("UserItem"),m=(0,a.up)("BootstrapIcon"),u=(0,a.up)("Paginator");return(0,a.wg)(),(0,a.iD)("div",ro,[l.showSpinner?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0),l.showEditUser?((0,a.wg)(),(0,a.j4)(r,{key:1,onCancel:i.closeUpdate,onSave:i.updateExisting,user_id:l.currentUserId},null,8,["onCancel","onSave","user_id"])):(0,a.kq)("",!0),l.showAuthError?((0,a.wg)(),(0,a.j4)(d,{key:2,message:l.authMessage,header:l.authHeader,onConfirm:i.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),l.showAddNewUser?((0,a.wg)(),(0,a.j4)(c,{key:3,onCancel:i.closeAddNew,onSave:i.saveNew},null,8,["onCancel","onSave"])):(0,a.kq)("",!0),(0,a.Wm)(p,{onFilter:i.filterTable,filterVal:l.filter},null,8,["onFilter","filterVal"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.users,(e=>((0,a.wg)(),(0,a.j4)(h,{key:e.user_id,user_id:e.user_id,username:e.username,role:e.role,onUserEdited:i.onEdit,onUserDeleted:i.onDeleted},null,8,["user_id","username","role","onUserEdited","onUserDeleted"])))),128)),co,(0,a._)("div",po,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.onNew&&i.onNew(...e)),class:"btn btn-dark btn-lg btn-block",style:{width:"300px"}},[(0,a.Wm)(m,{icon:"plus",size:"2x"}),(0,a.Uk)(" Добавить ")])]),ho,(0,a.Wm)(u,{count:l.totalItems,ipp:l.ipp,currentPage:l.page,onPageClick:i.changePage},null,8,["count","ipp","currentPage","onPageClick"])])}const uo=e=>((0,a.dD)("data-v-2d0be35d"),e=e(),(0,a.Cn)(),e),_o={class:"modal-mask"},go={class:"modal-window"},fo=uo((()=>(0,a._)("div",{class:"header"},"Добавление нового пользователя",-1))),yo={class:"body"},wo={class:"login-form"},vo={class:"form-group"},bo=uo((()=>(0,a._)("label",null,"Имя пользователя",-1))),ko={class:"form-group"},Io=uo((()=>(0,a._)("label",null,"Роль",-1))),Ao=["value"],Co={class:"form-group"},Do=uo((()=>(0,a._)("label",null,"Пароль",-1))),Mo={class:"form-group"},xo=uo((()=>(0,a._)("label",null,"Описание пользователя",-1))),Ho={class:"form-group",style:{"margin-top":"10px"}};function Uo(e,t,o,l,i,n){return(0,a.wg)(),(0,a.iD)("div",_o,[(0,a._)("div",go,[fo,(0,a._)("div",yo,[(0,a._)("form",wo,[(0,a._)("div",vo,[bo,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[s.nr,i.username]])]),(0,a._)("div",ko,[Io,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedRoleId=e),"aria-label":"Роль"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.roles,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.role_id,key:e.role_id},(0,L.zw)(e.role),9,Ao)))),128))],512),[[s.bM,i.selectedRoleId]])]),(0,a._)("div",Co,[Do,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e)},null,512),[[s.nr,i.password]])]),(0,a._)("div",Mo,[xo,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=e=>i.description=e)},null,512),[[s.nr,i.description]])]),(0,a._)("div",Ho,[(0,a._)("button",{onClick:t[4]||(t[4]=(...e)=>n.save&&n.save(...e)),class:"btn btn-dark btn-lg btn-block save"}," Сохранить "),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>n.cancel&&n.cancel(...e)),class:"btn btn-dark btn-lg btn-block close"}," Отменить ")])])])])])}var So={name:"NewUserModal",props:[],data(){return{roles:[],failed:!1,username:null,password:null,description:null,selectedRoleId:null}},methods:{save(e){this.$emit("save",{username:this.username,description:this.description,role_id:this.selectedRoleId,password:this.password}),e.preventDefault()},cancel(e){this.$emit("cancel",{}),e.preventDefault()},getRoles(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_roles/";y().post(o,{user_id:this.user_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.roles=e.data[0].result,this.getUser())}))}},mounted(){this.getRoles()}};const Eo=(0,F.Z)(So,[["render",Uo],["__scopeId","data-v-2d0be35d"]]);var Bo=Eo;const To=e=>((0,a.dD)("data-v-ed200612"),e=e(),(0,a.Cn)(),e),Vo={class:"modal-mask"},Po={class:"modal-window"},zo=To((()=>(0,a._)("div",{class:"header"},"Редактирование существующего пользователя",-1))),Lo={class:"body"},jo={class:"login-form"},Ro={class:"form-group"},Wo=To((()=>(0,a._)("label",null,"Имя пользователя",-1))),No={class:"form-group"},Oo=To((()=>(0,a._)("label",null,"Роль",-1))),qo=["value"],Fo={class:"form-group col-xs-3"},Zo=To((()=>(0,a._)("label",null,"Не менять пароль",-1))),Yo={class:"form-group"},Xo=To((()=>(0,a._)("label",null,"Пароль",-1))),Ko=["disabled"],$o={class:"form-group"},Go=To((()=>(0,a._)("label",null,"Описание пользователя",-1))),Jo={class:"form-group",style:{"margin-top":"10px"}};function Qo(e,t,o,l,i,n){return(0,a.wg)(),(0,a.iD)("div",Vo,[(0,a._)("div",Po,[zo,(0,a._)("div",Lo,[(0,a._)("form",jo,[(0,a._)("div",Ro,[Wo,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[s.nr,i.username]])]),(0,a._)("div",No,[Oo,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedRoleId=e),"aria-label":"Роль"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.roles,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.role_id,key:e.role_id},(0,L.zw)(e.role),9,qo)))),128))],512),[[s.bM,i.selectedRoleId]])]),(0,a._)("div",Fo,[Zo,(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",value:"","onUpdate:modelValue":t[2]||(t[2]=e=>i.doNotChangePassword=e)},null,512),[[s.e8,i.doNotChangePassword]])]),(0,a._)("div",Yo,[Xo,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=e=>i.password=e),disabled:1==i.doNotChangePassword},null,8,Ko),[[s.nr,i.password]])]),(0,a._)("div",$o,[Go,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=e=>i.description=e)},null,512),[[s.nr,i.description]])]),(0,a._)("div",Jo,[(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>n.save&&n.save(...e)),class:"btn btn-dark btn-lg btn-block save"}," Сохранить "),(0,a._)("button",{onClick:t[6]||(t[6]=(...e)=>n.cancel&&n.cancel(...e)),class:"btn btn-dark btn-lg btn-block close"}," Отменить ")])])])])])}var es={name:"EditUserModal",props:["user_id"],data(){return{roles:[],failed:!1,username:null,password:null,description:null,role:null,selectedRoleId:null,doNotChangePassword:!0}},methods:{save(e){this.$emit("save",{user_id:this.user_id,username:this.username,description:this.description,role_id:this.selectedRoleId,password:this.password,change_password:!this.doNotChangePassword}),e.preventDefault()},cancel(e){this.$emit("cancel",{}),e.preventDefault()},getUser(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_user/";y().post(o,{user_id:this.user_id},{headers:t}).then((e=>{e.data[0].auth_fail||(console.log(JSON.stringify(e.data[0].result)),this.selectedRoleId=e.data[0].result.role_id,this.role=e.data[0].result.role,this.password="SECRET",this.description=e.data[0].result.description,this.username=e.data[0].result.username)}))},getRoles(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_roles/";y().post(o,{user_id:this.user_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.roles=e.data[0].result,this.getUser())}))}},mounted(){this.getRoles()}};const ts=(0,F.Z)(es,[["render",Qo],["__scopeId","data-v-ed200612"]]);var os=ts;const ss={class:"item"},as={style:{"border-style":"none !important",width:"100%"}},ls={style:{"border-style":"none !important",width:"100%"}},is={style:{width:"50px","border-style":"none !important"}},ns={style:{width:"50px"}},rs={style:{width:"100%"}};function ds(e,t,o,l,i,n){const r=(0,a.up)("ConfirmModal"),d=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",ss,[i.showConfirmModal?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.confirmMessage,header:i.confirmHeader,onConfirm:n.onConfirm,onCancel:n.onCancel},null,8,["message","header","onConfirm","onCancel"])):(0,a.kq)("",!0),(0,a._)("table",as,[(0,a._)("tr",ls,[(0,a._)("td",is,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.removeUser&&n.removeUser(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(d,{icon:"trash"}),(0,a.Uk)(" Удалить ")])]),(0,a._)("td",ns,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.editUser&&n.editUser(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(d,{icon:"pencil"}),(0,a.Uk)(" Редактировать ")])]),(0,a._)("td",rs,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[2]||(t[2]=e=>i.userInfo=e),disabled:""},null,512),[[s.nr,i.userInfo]])])])])])}var cs={name:"UserItem",props:["user_id","username","role"],data(){return{showEditUser:!1,confirmMessage:"",confirmHeader:"",showConfirmModal:!1,userInfo:"Имя пользователя: "+this.username+", Роль пользователя: "+this.role}},methods:{onConfirm(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/delete_user/";y().post(o,{user_id:this.user_id},{headers:t}).then((()=>{this.showConfirmModal=!1,this.$emit("user-deleted",{})}))},onCancel(){this.showConfirmModal=!1},removeUser(e){this.confirmMessage="Удалить пользователя?",this.confirmHeader="Удаление данных!",this.showConfirmModal=!0,e.preventDefault()},editUser(e){this.$emit("user-edited",{user_id:this.user_id}),e.preventDefault()}},components:{BootstrapIcon:X.Z,ConfirmModal:ke},mounted(){}};const ps=(0,F.Z)(cs,[["render",ds],["__scopeId","data-v-5c056bf7"]]);var hs=ps,ms={name:"UsersTable",props:[],watch:{},data(){return{users:[],totalItems:0,showAddNewUser:!1,showEditUser:!1,currentUserId:null,page:1,ipp:10,filter:"",loadedItems:0,showSpinner:!0,showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности"}},methods:{hideAuthMessage(){this.showAuthError=!1},countItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_users_count/";const s=(this.page-1)*this.ipp;y().post(o,{username:this.filter,offset:s,limit:this.ipp},{headers:t}).then((e=>{e.data.auth_fail?this.showAuthError=!0:this.totalItems=e.data.result}))},loadItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_users/";const s=(this.page-1)*this.ipp;y().post(o,{username:this.filter,offset:s,limit:this.ipp},{headers:t}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:(this.users=e.data[0].result,this.loadedItems=0,this.showSpinner=!1)}))},changePage(e){this.page=e.page,this.loadItems()},onDeleted(){this.page=1,this.filter="",this.countItems(),this.loadItems()},onEdit(e){this.currentUserId=e.user_id,this.showEditUser=!0},onNew(){this.showAddNewUser=!0},filterTable(e){this.filter=e,this.countItems(),this.loadItems()},closeAddNew(){this.showAddNewUser=!1},saveNew(e){this.showAddNewUser=!1;const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t};var s=this.$BASE_URL+"/api/add_user/";y().post(s,e,{headers:o}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:(this.page=1,this.filter="",this.countItems(),this.loadItems())}))},updateExisting(e){this.showEditUser=!1;const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t};var s=this.$BASE_URL+"/api/update_user/";y().post(s,e,{headers:o}).then((e=>{e.data[0].auth_fail||(this.page=1,this.filter="",this.items=[],this.countItems(),this.loadItems())}))},closeUpdate(){this.showEditUser=!1}},components:{BootstrapIcon:X.Z,NewUserModal:Bo,EditUserModal:os,UserItem:hs,Paginator:Oe,Filter:Qe,Spinner:rt,OkModal:Y},mounted(){this.showSpinner=!0,this.countItems(),this.loadItems()}};const us=(0,F.Z)(ms,[["render",mo],["__scopeId","data-v-040a9204"]]);var _s=us,gs={name:"SecuritySettings",props:[],data(){return{showError:!1,header:"Сохранение данных",errorMessage:"",failed:!1,showSpinner:!1,showConfirmModal:!1,hasPermissions:!1,roles:[]}},methods:{has_permissions(){const e={},t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t};y().post(this.$BASE_URL+"/api/has_permissions_to_security_settings/",e,{headers:o}).then((e=>{e.data[0].auth_fail||(this.hasPermissions=!0)}))}},components:{Spinner:rt,OkModal:Y,ConfirmModal:ke,UsersTable:_s},mounted(){this.has_permissions()}};const fs=(0,F.Z)(gs,[["render",io],["__scopeId","data-v-adc97d84"]]);var ys=fs;const ws={class:"about-div"};function vs(e,t,o,s,l,i){return(0,a.wg)(),(0,a.iD)("div",ws," Данная программа разработана компанией © Micromine. Все права защищены ")}var bs={name:"About",data(){return{}},methods:{},components:{}};const ks=(0,F.Z)(bs,[["render",vs],["__scopeId","data-v-681f7b67"]]);var Is=ks;const As=e=>((0,a.dD)("data-v-b1f02ca6"),e=e(),(0,a.Cn)(),e),Cs={class:"main"},Ds={class:"instrument"},Ms=As((()=>(0,a._)("br",null,null,-1)));function xs(e,t,o,s,l,i){const n=(0,a.up)("ProtocolSelectionModal"),r=(0,a.up)("ProtocolEditModal"),d=(0,a.up)("ComponentSelectionModal");return(0,a.wg)(),(0,a.iD)("div",Cs,[l.showDepositSelectionTable?((0,a.wg)(),(0,a.j4)(n,{key:0,onCancel:i.closeObjectSelectionWindow,onConfirm:i.selectDeposit},null,8,["onCancel","onConfirm"])):(0,a.kq)("",!0),l.showEditModal?((0,a.wg)(),(0,a.j4)(r,{key:1,deposit_id:l.deposit_id,mine_area_id:l.mine_area_id,component_id:e.component_id,onReselect:i.showDepositSelection},null,8,["deposit_id","mine_area_id","component_id","onReselect"])):(0,a.kq)("",!0),l.showComponentSelectionModal?((0,a.wg)(),(0,a.j4)(d,{key:2,deposit_id:l.deposit_id,mine_area_id:l.mine_area_id,onConfirm:i.selectComponent,onCancel:i.closeAllWindows},null,8,["deposit_id","mine_area_id","onConfirm","onCancel"])):(0,a.kq)("",!0),(0,a._)("div",Ds,[(0,a.Uk)(" Данный инструмент представляет возможность заполнения информации обобъекте. Для запуска мастера нажмите на кнопку: "),Ms,(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.selectProtocol&&i.selectProtocol(...e)),class:"btn btn-dark btn-lg btn-block close"}," Запустить мастер заполнения протокола? ")])])}const Hs=e=>((0,a.dD)("data-v-5b9ffcf2"),e=e(),(0,a.Cn)(),e),Us={class:"modal-mask"},Ss={class:"modal-window"},Es=Hs((()=>(0,a._)("div",{class:"header"},"Выбор месторождения",-1))),Bs={class:"body"};function Ts(e,t,o,s,l,i){const n=(0,a.up)("Spinner"),r=(0,a.up)("DepositTable");return(0,a.wg)(),(0,a.iD)("div",Us,[(0,a._)("div",Ss,[l.showSpinner?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0),Es,(0,a._)("div",Bs,[(0,a.Wm)(r,{onConfirm:i.confirm,onLoaded:i.onLoaded},null,8,["onConfirm","onLoaded"])]),(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.cancel&&i.cancel(...e)),class:"btn btn-dark btn-lg btn-block cancel"}," Отменить ")])])}const Vs=e=>((0,a.dD)("data-v-234b1cfb"),e=e(),(0,a.Cn)(),e),Ps={style:{"border-style":"none !important",width:"100%"}},zs={style:{"border-style":"none !important"}},Ls=["onClick"],js={style:{width:"100%"}},Rs=["onUpdate:modelValue"],Ws=Vs((()=>(0,a._)("div",{class:"separator"},null,-1)));function Ns(e,t,o,l,i,n){const r=(0,a.up)("Filter"),d=(0,a.up)("BootstrapIcon"),c=(0,a.up)("Paginator");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r,{onFilter:n.filterTable,filterVal:i.filter},null,8,["onFilter","filterVal"]),(0,a._)("table",Ps,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.items,(e=>((0,a.wg)(),(0,a.iD)("tr",{style:{"border-style":"none !important",width:"100%"},key:e.deposit_id+"_"+e.mine_area_id},[(0,a._)("td",zs,[(0,a._)("button",{onClick:t=>n.select(e.deposit_id,e.mine_area_id),class:"btn btn-dark btn-lg btn-block"},[(0,a.Wm)(d,{icon:"pencil"})],8,Ls)]),(0,a._)("td",js,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100"},"onUpdate:modelValue":t=>e.description=t,disabled:""},null,8,Rs),[[s.nr,e.description]])])])))),128))]),Ws,(0,a.Wm)(c,{count:i.totalItems,ipp:i.ipp,currentPage:i.page,onPageClick:n.changePage,autoMargin:!0},null,8,["count","ipp","currentPage","onPageClick"])])}var Os={name:"DepositTable",props:[],data(){return{ipp:10,totalItems:0,page:1,filter:"",items:[]}},methods:{select(e,t){this.$emit("confirm",{deposit_id:e,mine_area_id:t})},confirm(){this.$emit("confirm",{deposit_id:this.depositId,mine_area_id:this.mineAreaId})},cancel(){this.$emit("cancel",{})},countDeposits(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_deposits_incl_mine_areas_count/";y().post(o,{deposit_name:this.filter,offset:0,limit:10},{headers:t}).then((e=>{e.data[0].auth_fail||(this.totalItems=e.data[0].result,this.loadDeposits())}))},loadDeposits(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_deposits_and_mine_areas/",s=(this.page-1)*this.ipp;y().post(o,{deposit_name:this.filter,offset:s,limit:10},{headers:t}).then((e=>{if(!e.data[0].auth_fail){this.items=JSON.parse(JSON.stringify(e.data[0].result));for(var t=0;t<this.items.length;t++)this.items[t].deposit_id==this.items[t].mine_area_id?this.items[t].description=this.items[t].deposit_name:this.items[t].description=this.items[t].deposit_name+", "+this.items[t].mine_area_name;this.$emit("loaded")}}))},changePage(e){this.page=e.page,this.showSpinner=!0,this.loadDeposits()},filterTable(e){this.page=1,this.filter=e,this.showSpinner=!0,this.countDeposits()}},components:{BootstrapIcon:X.Z,Paginator:Oe,Filter:Qe},mounted(){this.countDeposits()}};const qs=(0,F.Z)(Os,[["render",Ns],["__scopeId","data-v-234b1cfb"]]);var Fs=qs,Zs={name:"ProtocolSelectionModal",props:[],data(){return{showSpinner:!0}},methods:{onLoaded(){this.showSpinner=!1},confirm(e){this.$emit("confirm",{deposit_id:e.deposit_id,mine_area_id:e.mine_area_id})},cancel(){this.$emit("cancel",{})}},components:{Spinner:rt,DepositTable:Fs},mounted(){}};const Ys=(0,F.Z)(Zs,[["render",Ts],["__scopeId","data-v-5b9ffcf2"]]);var Xs=Ys;const Ks=e=>((0,a.dD)("data-v-46f4f6ac"),e=e(),(0,a.Cn)(),e),$s={class:"modal-mask"},Gs={class:"modal-window"},Js={class:"header"},Qs={class:"form-group close"},ea=Ks((()=>(0,a._)("span",{class:"align-middle"},"X",-1))),ta=[ea],oa={class:"body"},sa={class:"nav nav-tabs"},aa={class:"nav-item"},la={class:"nav-item"},ia={class:"nav-item"},na={class:"nav-item"},ra={class:"nav-item"},da={class:"nav-item"},ca={class:"nav-item"},pa={class:"nav-item"},ha={class:"nav-item"},ma={class:"nav-item"},ua={class:"nav-item"},_a={class:"nav-item"},ga={class:"nav-item"},fa={key:0,class:"tab-title",style:{height:"400px",width:"calc(80%)",margin:"auto"}},ya={class:"body"},wa=Ks((()=>(0,a._)("div",{class:"title"},"ТИТУЛЬНЫЙ ЛИСТ",-1))),va={class:"form-inline"},ba={style:{border:"none !important"}},ka={class:"form-group col-xs-3"},Ia=Ks((()=>(0,a._)("label",null,"Месторождение",-1))),Aa={class:"form-group col-xs-3"},Ca=Ks((()=>(0,a._)("label",null,"Участок",-1))),Da={class:"form-group col-xs-3"},Ma=Ks((()=>(0,a._)("label",null,"Степень освоения",-1))),xa={class:"form-group col-xs-3"},Ha=Ks((()=>(0,a._)("label",null,"Полезное ископаемое",-1))),Ua={class:"form-group col-xs-3"},Sa=Ks((()=>(0,a._)("label",null,"Наименование раздела",-1))),Ea={class:"form-group col-xs-3"},Ba=Ks((()=>(0,a._)("label",null,"Госбаланс",-1))),Ta={class:"form-group col-xs-3"},Va=Ks((()=>(0,a._)("label",null,"Составил",-1))),Pa={class:"form-group col-xs-3"},za=Ks((()=>(0,a._)("label",null,"Дата составления",-1))),La={class:"form-group col-xs-3"},ja=Ks((()=>(0,a._)("label",null,"Утвердил",-1))),Ra={class:"form-group col-xs-3"},Wa=Ks((()=>(0,a._)("label",null,"Дата утверждения",-1))),Na={key:1,class:"tab-H01",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Oa={class:"body"},qa=Ks((()=>(0,a._)("div",{class:"title"},"1. ОБЩИЕ СВЕДЕНИЯ О МЕСТОРОЖДЕНИИ",-1))),Fa={class:"form-inline",style:{width:"calc(100%)"}},Za={style:{border:"none !important",width:"calc(100%)"}},Ya={style:{margin:"10px"}},Xa={class:"form-group col-xs-3"},Ka=Ks((()=>(0,a._)("label",{style:{float:"left"}},"01. Название объекта",-1))),$a={style:{margin:"10px"}},Ga={class:"form-group col-xs-3"},Ja=Ks((()=>(0,a._)("label",{style:{float:"left"}},"06. Полезное ископаемое",-1))),Qa={style:{margin:"10px"}},el={class:"form-group col-xs-3"},tl=Ks((()=>(0,a._)("label",{style:{float:"left"}},"02. Участок",-1))),ol={style:{margin:"10px"}},sl={class:"form-group col-xs-3"},al=Ks((()=>(0,a._)("label",{style:{float:"left"}},"07. Применение",-1))),ll={style:{margin:"10px"}},il={class:"form-group col-xs-3"},nl=Ks((()=>(0,a._)("label",{style:{float:"left"}},"03. Область",-1))),rl=Ks((()=>(0,a._)("td",null,null,-1))),dl={style:{margin:"10px"}},cl={class:"form-group col-xs-3"},pl=Ks((()=>(0,a._)("label",{style:{float:"left"}},"04. Район",-1))),hl={style:{margin:"10px"}},ml={class:"form-group col-xs-3"},ul=Ks((()=>(0,a._)("label",{style:{float:"left"}},"08. Ведомственная принадлежность",-1))),_l=["value"],gl={style:{margin:"10px"}},fl={class:"form-group col-xs-3"},yl=Ks((()=>(0,a._)("label",{style:{float:"left"}},"05. Номенклатура листа м-ба 1:200000",-1))),wl={style:{margin:"10px"}},vl={class:"form-group col-xs-3"},bl=Ks((()=>(0,a._)("label",{style:{float:"left"}},"09. Географические коор. центра объекта",-1))),kl={style:{float:"left"}},Il=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",null,"град."),(0,a._)("td",null,"мин."),(0,a._)("td",null,"сек."),(0,a._)("td")],-1))),Al=Ks((()=>(0,a._)("td",null,"с.ш.",-1))),Cl=Ks((()=>(0,a._)("td",null,"в.д.",-1))),Dl={style:{width:"calc(100%) !important"}},Ml=Ks((()=>(0,a._)("div",null,[(0,a._)("label",{style:{float:"center"}},"10. Ближайшие пункты")],-1))),xl={style:{float:"left"}},Hl=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",null,"Название"),(0,a._)("td",null,"Расст. км."),(0,a._)("td",null,"Направление, румб"),(0,a._)("td",null,"Путь сообщения")],-1))),Ul=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",null,"Населенный пункт")],-1))),Sl=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",null,"ЖД станция")],-1))),El={style:{width:"calc(100%) !important",float:"left"}},Bl=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",null,"Источники"),(0,a._)("td",null,"Название"),(0,a._)("td",null,"Расстояние, км.")],-1))),Tl=Ks((()=>(0,a._)("td",null,"Питьевой воды",-1))),Vl=Ks((()=>(0,a._)("td",null,"Технической воды",-1))),Pl=Ks((()=>(0,a._)("td",null,"Электроэнергии",-1))),zl={style:{width:"calc(100%) !important",margin:"0px",float:"left"}},Ll={style:{width:"calc(100%) !important"}},jl=Ks((()=>(0,a._)("td",null,"11. Абсолют. отметки рельефа м-я, м.",-1))),Rl=Ks((()=>(0,a._)("td",null,"Мин.",-1))),Wl=Ks((()=>(0,a._)("td",null,"Макс.",-1))),Nl={style:{width:"calc(100%) !important",float:"left !important",align:"left"}},Ol={style:{width:"calc(100%) !important"}},ql=Ks((()=>(0,a._)("td",{style:{width:"calc(40%)"}},"12. Тип рельефа:",-1))),Fl={style:{width:"calc(60%)"}},Zl=["value"],Yl={style:{width:"calc(100%) !important",float:"left"}},Xl={style:{width:"calc(100%) !important"}},Kl=Ks((()=>(0,a._)("td",{style:{width:"calc(40%)"}},"13. Сейсмичность:",-1))),$l={style:{width:"calc(60%)"}},Gl={style:{width:"calc(100%) !important",float:"left"}},Jl={style:{width:"calc(100%) !important"}},Ql=Ks((()=>(0,a._)("td",{style:{width:"calc(40%)"}},"14. Селеопасность:",-1))),ei={style:{width:"calc(60%)"}},ti=["value"],oi={style:{width:"calc(100%) !important",float:"left"}},si={style:{width:"calc(100%) !important"}},ai=Ks((()=>(0,a._)("td",{style:{width:"calc(40%)"}},"15. Оползнеопасность:",-1))),li={style:{width:"calc(60%)"}},ii=["value"],ni={style:{width:"calc(100%) !important",float:"left"}},ri={style:{width:"calc(100%) !important"}},di=Ks((()=>(0,a._)("td",{style:{width:"calc(40%)"}}," 16. Принадлежность площади объекта к занятым жилой и промышленной застройкой, горным отводам, охранным зонам и гидротехническим сооружениям, заповедникам, национальным паркам: ",-1))),ci={style:{width:"calc(60%)"}},pi={style:{width:"calc(100%) !important",float:"left"}},hi={style:{width:"calc(100%) !important"}},mi=Ks((()=>(0,a._)("td",{style:{width:"calc(40%)"}},"17. Тип земель:",-1))),ui={style:{width:"calc(60%)"}},_i=["value"],gi={style:{width:"calc(100%) !important",float:"left"}},fi=Ks((()=>(0,a._)("div",null,[(0,a._)("label",{style:{float:"left"}},"19. Изученность объекта")],-1))),yi={style:{width:"calc(100%) !important",float:"left"}},wi=Ks((()=>(0,a._)("div",null,[(0,a._)("label",{style:{float:"left"}},"Угловые координаты, определенные в системе Google")],-1))),vi={key:2,class:"tab-H02",style:{height:"400px",width:"calc(80%)",margin:"auto"}},bi={class:"body"},ki=Ks((()=>(0,a._)("div",{class:"title"}," 2. ГЕОЛОГИЧЕСКАЯ ХАРАКТЕРИСТИКА МЕСТОРОЖДЕНИЯ ",-1))),Ii={class:"form-inline",style:{width:"calc(100%)"}},Ai={style:{border:"none !important",width:"calc(30%)"}},Ci={style:{margin:"10px",width:"calc(30%)"}},Di={class:"form-group col-xs-3"},Mi=Ks((()=>(0,a._)("label",{style:{float:"left"}},"Объект (название):",-1))),xi={style:{margin:"10px",width:"calc(30%)"}},Hi={class:"form-group col-xs-3"},Ui=Ks((()=>(0,a._)("label",{style:{float:"left"}},"Полезное ископаемое:",-1))),Si={style:{border:"none !important",width:"calc(100%)"}},Ei={style:{margin:"10px",width:"calc(30%)"}},Bi={class:"form-group col-xs-3"},Ti=Ks((()=>(0,a._)("label",{style:{float:"left"}},"01. Группа сложности геологического строения м-ния",-1))),Vi=["value"],Pi={style:{margin:"10px",width:"calc(30%)"},rowspan:"2"},zi={class:"form-group col-xs-3"},Li=Ks((()=>(0,a._)("label",{style:{float:"left"}},"10. Группа сложности геологического строения м-ния",-1))),ji=Ks((()=>(0,a._)("br",null,null,-1))),Ri={style:{margin:"10px",width:"calc(30%)"}},Wi={class:"form-group col-xs-3"},Ni=Ks((()=>(0,a._)("label",{style:{float:"left"}},"Тип",-1))),Oi=["value"],qi={style:{margin:"10px",width:"calc(30%)"},colspan:"2"},Fi={class:"form-group col-xs-3"},Zi=Ks((()=>(0,a._)("label",{style:{float:"left"}},"02. Породы, слагающие полезное ископаемое",-1))),Yi=["value"],Xi={style:{margin:"10px",width:"calc(30%)"},colspan:"2"},Ki={class:"form-group col-xs-3"},$i=Ks((()=>(0,a._)("label",{style:{float:"left"}},"03. Форма тел",-1))),Gi=["value"],Ji={style:{margin:"10px",width:"calc(30%)"},colspan:"2"},Qi={class:"form-group col-xs-3"},en=Ks((()=>(0,a._)("label",{style:{float:"left"}},"04. Количество тел",-1))),tn={style:{margin:"10px",width:"calc(100%)"},colspan:"2"},on={class:"form-group col-xs-3",style:{width:"calc(100%)"}},sn={style:{width:"calc(100%)"}},an=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",{colspan:"2"}," 05. Размер тел: "),(0,a._)("td",{style:{"text-align":"center"}}," от "),(0,a._)("td",{style:{"text-align":"center"}}," до "),(0,a._)("td",{style:{"text-align":"center"}}," среднее ")],-1))),ln=Ks((()=>(0,a._)("td",{colspan:"2"}," - длина по простиранию, м ",-1))),nn=Ks((()=>(0,a._)("td",{colspan:"2"}," - длина по падению, м ",-1))),rn=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",{colspan:"2"}," Мощьность, м "),(0,a._)("td"),(0,a._)("td"),(0,a._)("td")],-1))),dn=Ks((()=>(0,a._)("td",{colspan:"2"}," - Общая ",-1))),cn=Ks((()=>(0,a._)("td",{colspan:"2"}," - Вскрытая ",-1))),pn=Ks((()=>(0,a._)("td",{colspan:"2"}," - Вошедшая в подсчет запасов ",-1))),hn=Ks((()=>(0,a._)("td",{colspan:"2"}," - Отдельных слоев ",-1))),mn=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",{colspan:"2"}," 06. Условия залегания "),(0,a._)("td"),(0,a._)("td"),(0,a._)("td")],-1))),un=Ks((()=>(0,a._)("td",{colspan:"2"}," - Направление простирания, румб ",-1))),_n=Ks((()=>(0,a._)("td",{colspan:"2"}," - Азимут падения, град. ",-1))),gn=Ks((()=>(0,a._)("td",{colspan:"2"}," - Угол падения, град. ",-1))),fn=Ks((()=>(0,a._)("td",{colspan:"2"}," - Глубина залегания, м ",-1))),yn=Ks((()=>(0,a._)("tr",null,[(0,a._)("td",{colspan:"2"}," 07. Мощьность "),(0,a._)("td"),(0,a._)("td"),(0,a._)("td")],-1))),wn=Ks((()=>(0,a._)("td",{colspan:"2"}," - Зоны выветривания, м ",-1))),vn=Ks((()=>(0,a._)("td",{colspan:"2"}," - зоны частичного выветьривания, м ",-1))),bn=Ks((()=>(0,a._)("td",{colspan:"2"}," - вскрыши, м ",-1))),kn=Ks((()=>(0,a._)("td",{colspan:"2"},"    в т.ч. четвертичных отложений ",-1))),In={style:{margin:"10px",width:"calc(100%)"},colspan:"2"},An={class:"form-group col-xs-3"},Cn=Ks((()=>(0,a._)("label",{style:{float:"left"}},"08. Линейная плотность трещин, к-во тр/п.м.",-1))),Dn={style:{margin:"10px",width:"calc(100%)"},colspan:"2"},Mn={class:"form-group col-xs-3"},xn=Ks((()=>(0,a._)("label",{style:{float:"left"}},"09. Закарстованность, %",-1))),Hn={style:{margin:"10px",width:"calc(100%)"},colspan:"2"},Un={class:"form-group col-xs-3"},Sn=Ks((()=>(0,a._)("label",{style:{float:"left"}},"    - заполнитель карста",-1))),En={key:3,class:"tab-H03",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Bn={key:4,class:"tab-H04",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Tn={key:5,class:"tab-H05",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Vn={key:6,class:"tab-H06",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Pn={key:7,class:"tab-H07",style:{height:"400px",width:"calc(80%)",margin:"auto"}},zn={key:8,class:"tab-H08",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Ln={key:9,class:"tab-H0910",style:{height:"400px",width:"calc(80%)",margin:"auto"}},jn={key:10,class:"tab-H11",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Rn={key:11,class:"tab-H12",style:{height:"400px",width:"calc(80%)",margin:"auto"}},Wn={key:12,class:"tab-H13",style:{height:"400px",width:"calc(80%)",margin:"auto"}};function Nn(e,t,o,l,i,n){const r=(0,a.up)("Spinner"),d=(0,a.up)("OkModal"),c=(0,a.up)("ExplorationCtrl"),p=(0,a.up)("CoordinatesCtrl"),h=(0,a.up)("QuillEditor");return(0,a.wg)(),(0,a.iD)("div",$s,[(0,a._)("div",Gs,[i.showSpinner?((0,a.wg)(),(0,a.j4)(r,{key:0})):(0,a.kq)("",!0),i.showError?((0,a.wg)(),(0,a.j4)(d,{key:1,message:e.errorMessage,header:e.header,onConfirm:n.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),i.showAuthError?((0,a.wg)(),(0,a.j4)(d,{key:2,message:e.authMessage,header:e.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),(0,a._)("div",Js,[(0,a._)("div",Qs,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.selectDeposit&&n.selectDeposit(...e)),class:"btn btn-dark btn-xxs btn-block"},ta)]),(0,a.Uk)(" Протокол для месторождения: "+(0,L.zw)(i.description),1)]),(0,a._)("div",oa,[(0,a._)("ul",sa,[(0,a._)("li",aa,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_title?"active":""]),onClick:t[1]||(t[1]=e=>n.selectTab("title")),href:"#"},"Титул",2)]),(0,a._)("li",la,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H01?"active":""]),onClick:t[2]||(t[2]=e=>n.selectTab("H01")),href:"#"},"Форма H01",2)]),(0,a._)("li",ia,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H02?"active":""]),onClick:t[3]||(t[3]=e=>n.selectTab("H02")),href:"#"},"Форма H02",2)]),(0,a._)("li",na,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H03?"active":""]),onClick:t[4]||(t[4]=e=>n.selectTab("H03")),href:"#"},"Форма H03",2)]),(0,a._)("li",ra,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H04?"active":""]),onClick:t[5]||(t[5]=e=>n.selectTab("H04")),href:"#"},"Форма H04",2)]),(0,a._)("li",da,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H05?"active":""]),onClick:t[6]||(t[6]=e=>n.selectTab("H05")),href:"#"},"Форма H05",2)]),(0,a._)("li",ca,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H06?"active":""]),onClick:t[7]||(t[7]=e=>n.selectTab("H06")),href:"#"},"Форма H06",2)]),(0,a._)("li",pa,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H07?"active":""]),onClick:t[8]||(t[8]=e=>n.selectTab("H07")),href:"#"},"Форма H07",2)]),(0,a._)("li",ha,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H08?"active":""]),onClick:t[9]||(t[9]=e=>n.selectTab("H08")),href:"#"},"Форма H08",2)]),(0,a._)("li",ma,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H0910?"active":""]),onClick:t[10]||(t[10]=e=>n.selectTab("H0910")),href:"#"},"Форма H09 и H10",2)]),(0,a._)("li",ua,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H11?"active":""]),onClick:t[11]||(t[11]=e=>n.selectTab("H11")),href:"#"},"Форма H11",2)]),(0,a._)("li",_a,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H12?"active":""]),onClick:t[12]||(t[12]=e=>n.selectTab("H12")),href:"#"},"Форма H12",2)]),(0,a._)("li",ga,[(0,a._)("a",{class:(0,L.C_)(["nav-link",i.selected_H13?"active":""]),onClick:t[13]||(t[13]=e=>n.selectTab("H13")),href:"#"},"Форма H13",2)])]),i.selected_title?((0,a.wg)(),(0,a.iD)("div",fa,[(0,a._)("div",ya,[wa,(0,a._)("form",va,[(0,a._)("table",ba,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",ka,[Ia,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[14]||(t[14]=t=>e.deposit=t),disabled:""},null,512),[[s.nr,e.deposit]])])]),(0,a._)("td",null,[(0,a._)("div",Aa,[Ca,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[15]||(t[15]=t=>e.mineArea=t),disabled:""},null,512),[[s.nr,e.mineArea]])])]),(0,a._)("td",null,[(0,a._)("div",Da,[Ma,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[16]||(t[16]=e=>i.dev=e),disabled:""},null,512),[[s.nr,i.dev]])])]),(0,a._)("td",null,[(0,a._)("div",xa,[Ha,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[17]||(t[17]=t=>e.component=t),disabled:""},null,512),[[s.nr,e.component]])])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",Ua,[Sa,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[18]||(t[18]=t=>e.chapter=t)},null,512),[[s.nr,e.chapter]])])]),(0,a._)("td",null,[(0,a._)("div",Ea,[Ba,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[19]||(t[19]=t=>e.balance=t)},null,512),[[s.nr,e.balance]])])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",Ta,[Va,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[20]||(t[20]=t=>e.prepared=t)},null,512),[[s.nr,e.prepared]])])]),(0,a._)("td",null,[(0,a._)("div",Pa,[za,(0,a.wy)((0,a._)("input",{type:"date",class:"form-control form-control-lg","onUpdate:modelValue":t[21]||(t[21]=t=>e.datePrepared=t)},null,512),[[s.nr,e.datePrepared]])])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",La,[ja,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[22]||(t[22]=t=>e.prepared=t)},null,512),[[s.nr,e.prepared]])])]),(0,a._)("td",null,[(0,a._)("div",Ra,[Wa,(0,a.wy)((0,a._)("input",{type:"date",class:"form-control form-control-lg","onUpdate:modelValue":t[23]||(t[23]=t=>e.dateConfirmed=t)},null,512),[[s.nr,e.dateConfirmed]])])])])])])])])):(0,a.kq)("",!0),i.selected_H01?((0,a.wg)(),(0,a.iD)("div",Na,[(0,a._)("div",Oa,[qa,(0,a._)("form",Fa,[(0,a._)("table",Za,[(0,a._)("tr",null,[(0,a._)("td",Ya,[(0,a._)("div",Xa,[Ka,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[24]||(t[24]=e=>i.description=e),placeholder:"Месторождение",disabled:""},null,512),[[s.nr,i.description]])])]),(0,a._)("td",$a,[(0,a._)("div",Ga,[Ja,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[25]||(t[25]=t=>e.component=t),placeholder:"Полезное ископаемое",disabled:""},null,512),[[s.nr,e.component]])])])]),(0,a._)("tr",null,[(0,a._)("td",Qa,[(0,a._)("div",el,[tl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[26]||(t[26]=t=>e.mineArea=t),placeholder:"Участок",disabled:""},null,512),[[s.nr,e.mineArea]])])]),(0,a._)("td",ol,[(0,a._)("div",sl,[al,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[27]||(t[27]=t=>e.usage01=t),placeholder:"Применение"},null,512),[[s.nr,e.usage01]])])])]),(0,a._)("tr",null,[(0,a._)("td",ll,[(0,a._)("div",il,[nl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[28]||(t[28]=e=>i.area=e),placeholder:"Область",disabled:""},null,512),[[s.nr,i.area]])])]),rl]),(0,a._)("tr",null,[(0,a._)("td",dl,[(0,a._)("div",cl,[pl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[29]||(t[29]=e=>i.district=e),placeholder:"Район",disabled:""},null,512),[[s.nr,i.district]])])]),(0,a._)("td",hl,[(0,a._)("div",ml,[ul,(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[30]||(t[30]=t=>e.selectedOrganizationId=t),"aria-label":"Ведомственная принадлежность"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.organizations,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,_l)))),128))],512),[[s.bM,e.selectedOrganizationId]])])])]),(0,a._)("tr",gl,[(0,a._)("td",null,[(0,a._)("div",fl,[yl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[31]||(t[31]=t=>e.area01=t),placeholder:"Номенклатура"},null,512),[[s.nr,e.area01]])])]),(0,a._)("td",wl,[(0,a._)("div",vl,[bl,(0,a._)("table",kl,[Il,(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[32]||(t[32]=t=>e.lat_ang=t),placeholder:"град."},null,512),[[s.nr,e.lat_ang]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[33]||(t[33]=t=>e.lat_min=t),placeholder:"мин."},null,512),[[s.nr,e.lat_min]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[34]||(t[34]=t=>e.lat_sec=t),placeholder:"сек."},null,512),[[s.nr,e.lat_sec]])]),Al]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[35]||(t[35]=t=>e.long_ang=t),placeholder:"град."},null,512),[[s.nr,e.long_ang]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[36]||(t[36]=t=>e.long_min=t),placeholder:"мин."},null,512),[[s.nr,e.long_min]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[37]||(t[37]=t=>e.long_sec=t),placeholder:"сек."},null,512),[[s.nr,e.long_sec]])]),Cl])])])])])]),(0,a._)("div",Dl,[Ml,(0,a._)("table",xl,[Hl,Ul,(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[38]||(t[38]=t=>e.inh_area_name=t),placeholder:"Название"},null,512),[[s.nr,e.inh_area_name]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[39]||(t[39]=t=>e.inh_area_dist=t),placeholder:"Расстояние, км"},null,512),[[s.nr,e.inh_area_dist]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[40]||(t[40]=t=>e.inh_area_dir=t),placeholder:"Направление"},null,512),[[s.nr,e.inh_area_dir]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[41]||(t[41]=t=>e.inh_area_path=t),placeholder:"Путь сообщения"},null,512),[[s.nr,e.inh_area_path]])])]),Sl,(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[42]||(t[42]=t=>e.inh_area_name=t),placeholder:"Название"},null,512),[[s.nr,e.inh_area_name]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[43]||(t[43]=t=>e.inh_area_dist=t),placeholder:"Расстояние, км"},null,512),[[s.nr,e.inh_area_dist]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[44]||(t[44]=t=>e.inh_area_dir=t),placeholder:"Направление"},null,512),[[s.nr,e.inh_area_dir]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[45]||(t[45]=t=>e.inh_area_path=t),placeholder:"Путь сообщения"},null,512),[[s.nr,e.inh_area_path]])])])])]),(0,a._)("div",El,[(0,a._)("table",null,[Bl,(0,a._)("tr",null,[Tl,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[46]||(t[46]=t=>e.water_pure_name=t),placeholder:"Название"},null,512),[[s.nr,e.water_pure_name]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[47]||(t[47]=t=>e.water_pure_dist=t),placeholder:"Расстояние, км."},null,512),[[s.nr,e.water_pure_dist]])])]),(0,a._)("tr",null,[Vl,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[48]||(t[48]=t=>e.water_tech_name=t),placeholder:"Название"},null,512),[[s.nr,e.water_tech_name]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[49]||(t[49]=t=>e.water_tech_dist=t),placeholder:"Расстояние, км."},null,512),[[s.nr,e.water_tech_dist]])])]),(0,a._)("tr",null,[Pl,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[50]||(t[50]=t=>e.electricity_name=t),placeholder:"Название"},null,512),[[s.nr,e.electricity_name]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[51]||(t[51]=t=>e.electricity_dist=t),placeholder:"Расстояние, км."},null,512),[[s.nr,e.electricity_dist]])])])])]),(0,a._)("div",zl,[(0,a._)("table",Ll,[(0,a._)("tr",null,[jl,Rl,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[52]||(t[52]=t=>e.landscape_mark_min=t),placeholder:"Мин."},null,512),[[s.nr,e.landscape_mark_min]])]),Wl,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[53]||(t[53]=t=>e.landscape_mark_max=t),placeholder:"Макс."},null,512),[[s.nr,e.landscape_mark_max]])])])])]),(0,a._)("div",Nl,[(0,a._)("table",Ol,[(0,a._)("tr",null,[ql,(0,a._)("td",Fl,[(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[54]||(t[54]=t=>e.selectedLandascapeId=t),"aria-label":"Тип рельефа"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.relief,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Zl)))),128))],512),[[s.bM,e.selectedLandascapeId]])])])])]),(0,a._)("div",Yl,[(0,a._)("table",Xl,[(0,a._)("tr",null,[Kl,(0,a._)("td",$l,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[55]||(t[55]=t=>e.seismic_score=t),placeholder:"Сейсмичность"},null,512),[[s.nr,e.seismic_score]])])])])]),(0,a._)("div",Gl,[(0,a._)("table",Jl,[(0,a._)("tr",null,[Ql,(0,a._)("td",ei,[(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[56]||(t[56]=t=>e.selectedDroughtScoreId=t),"aria-label":"Селеопасность"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.drought_score,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,ti)))),128))],512),[[s.bM,e.selectedDroughtScoreId]])])])])]),(0,a._)("div",oi,[(0,a._)("table",si,[(0,a._)("tr",null,[ai,(0,a._)("td",li,[(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[57]||(t[57]=t=>e.selectedAvalanchScoreId=t),"aria-label":"Оползнеопасность"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.avalanch_score,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,ii)))),128))],512),[[s.bM,e.selectedAvalanchScoreId]])])])])]),(0,a._)("div",ni,[(0,a._)("table",ri,[(0,a._)("tr",null,[di,(0,a._)("td",ci,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{width:"calc(100%)"},"onUpdate:modelValue":t[58]||(t[58]=t=>e.attachment=t),placeholder:"Принадлежность"},null,512),[[s.nr,e.attachment]])])])])]),(0,a._)("div",pi,[(0,a._)("table",hi,[(0,a._)("tr",null,[mi,(0,a._)("td",ui,[(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[59]||(t[59]=t=>e.selectedLandTypeId=t),"aria-label":"Тип земель"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.land_type,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,_i)))),128))],512),[[s.bM,e.selectedLandTypeId]])])])])]),(0,a._)("div",gi,[fi,(0,a.Wm)(c)]),(0,a._)("div",yi,[wi,(0,a.Wm)(p)])])])])):(0,a.kq)("",!0),i.selected_H02?((0,a.wg)(),(0,a.iD)("div",vi,[(0,a._)("div",bi,[ki,(0,a._)("form",Ii,[(0,a._)("table",Ai,[(0,a._)("tr",null,[(0,a._)("td",Ci,[(0,a._)("div",Di,[Mi,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[60]||(t[60]=e=>i.description=e),placeholder:"Месторождение",disabled:""},null,512),[[s.nr,i.description]])])])]),(0,a._)("tr",null,[(0,a._)("td",xi,[(0,a._)("div",Hi,[Ui,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[61]||(t[61]=t=>e.component=t),placeholder:"Полезное ископаемое",disabled:""},null,512),[[s.nr,e.component]])])])])]),(0,a._)("table",Si,[(0,a._)("tr",null,[(0,a._)("td",Ei,[(0,a._)("div",Bi,[Ti,(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[62]||(t[62]=t=>e.selectedDiffId=t),"aria-label":"Группа сложности геологического строения м-ния"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.diffs,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Vi)))),128))],512),[[s.bM,e.selectedDiffId]])])]),(0,a._)("td",Pi,[(0,a._)("div",zi,[Li,ji,(0,a.wy)((0,a._)("textarea",{class:"form-control-lg",rows:"4","onUpdate:modelValue":t[63]||(t[63]=t=>e.geoAge=t),style:{width:"calc(100%)"}},null,512),[[s.nr,e.geoAge]])])])]),(0,a._)("tr",null,[(0,a._)("td",Ri,[(0,a._)("div",Wi,[Ni,(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[64]||(t[64]=t=>e.selectedDiffTypeId=t),"aria-label":"Тип"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.diffTypes,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Oi)))),128))],512),[[s.bM,e.selectedDiffTypeId]])])])]),(0,a._)("tr",null,[(0,a._)("td",qi,[(0,a._)("div",Fi,[Zi,(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[65]||(t[65]=t=>e.selecteOreTypeId=t),"aria-label":"Породы, слагающие полезное ископаемое"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.oreTypes,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Yi)))),128))],512),[[s.bM,e.selecteOreTypeId]])])])]),(0,a._)("tr",null,[(0,a._)("td",Xi,[(0,a._)("div",Ki,[$i,(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[66]||(t[66]=t=>e.selecteBodyTypeId=t),"aria-label":"Форма тел"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.bodyTypes,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Gi)))),128))],512),[[s.bM,e.selecteBodyTypeId]])])])]),(0,a._)("tr",null,[(0,a._)("td",Ji,[(0,a._)("div",Qi,[en,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[67]||(t[67]=t=>e.numberOfOreBodies=t),placeholder:"Количество тел"},null,512),[[s.nr,e.numberOfOreBodies]])])])]),(0,a._)("tr",null,[(0,a._)("td",tn,[(0,a._)("div",on,[(0,a._)("table",sn,[an,(0,a._)("tr",null,[ln,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[68]||(t[68]=t=>e.oreBodyLengthHorizFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyLengthHorizFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[69]||(t[69]=t=>e.oreBodyLengthHorizTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyLengthHorizTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[70]||(t[70]=t=>e.oreBodyLengthHorizMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyLengthHorizMean]])])]),(0,a._)("tr",null,[nn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[71]||(t[71]=t=>e.oreBodyLengthVerticalFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyLengthVerticalFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[72]||(t[72]=t=>e.oreBodyLengthVerticalTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyLengthVerticalTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[73]||(t[73]=t=>e.oreBodyLengthVerticalMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyLengthVerticalMean]])])]),rn,(0,a._)("tr",null,[dn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[74]||(t[74]=t=>e.oreBodyWidthFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyWidthFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[75]||(t[75]=t=>e.oreBodyWidthVerticalTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyWidthVerticalTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[76]||(t[76]=t=>e.oreBodyWidthVerticalMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyWidthVerticalMean]])])]),(0,a._)("tr",null,[cn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[77]||(t[77]=t=>e.oreBodyExcavatedFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyExcavatedFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[78]||(t[78]=t=>e.oreBodyWidthExcavatedTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyWidthExcavatedTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[79]||(t[79]=t=>e.oreBodyWidthExcavatedMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyWidthExcavatedMean]])])]),(0,a._)("tr",null,[pn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[80]||(t[80]=t=>e.oreBodyCalculatedFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyCalculatedFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[81]||(t[81]=t=>e.oreBodyWidthCalculatedTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyWidthCalculatedTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[82]||(t[82]=t=>e.oreBodyWidthCalculatedMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyWidthCalculatedMean]])])]),(0,a._)("tr",null,[hn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[83]||(t[83]=t=>e.oreBodySeparatedLayersFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodySeparatedLayersFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[84]||(t[84]=t=>e.oreBodyWidthSeparatedLayersTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyWidthSeparatedLayersTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[85]||(t[85]=t=>e.oreBodyWidthSeparatedLayersMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyWidthSeparatedLayersMean]])])]),mn,(0,a._)("tr",null,[un,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[86]||(t[86]=t=>e.oreBodyDirection=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyDirection]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[87]||(t[87]=t=>e.oreBodyDirectionTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyDirectionTo]])])]),(0,a._)("tr",null,[_n,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[88]||(t[88]=t=>e.oreBodyAzimuthFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyAzimuthFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[89]||(t[89]=t=>e.oreBodyAzimuthTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyAzimuthTo]])])]),(0,a._)("tr",null,[gn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[90]||(t[90]=t=>e.oreBodyDropAngleFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyDropAngleFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[91]||(t[91]=t=>e.oreBodyWidthDropAngleTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyWidthDropAngleTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[92]||(t[92]=t=>e.oreBodyWidthDropAngleMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyWidthDropAngleMean]])])]),(0,a._)("tr",null,[fn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[93]||(t[93]=t=>e.oreBodyDepthFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyDepthFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[94]||(t[94]=t=>e.oreBodyDepthTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyDepthTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[95]||(t[95]=t=>e.oreBodyDepthMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyDepthMean]])])]),yn,(0,a._)("tr",null,[wn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[96]||(t[96]=t=>e.oreBodyErosionZoneFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyErosionZoneFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[97]||(t[97]=t=>e.oreBodyErosionZoneTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyErosionZoneTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[98]||(t[98]=t=>e.oreBodyErosionZoneMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyErosionZoneMean]])])]),(0,a._)("tr",null,[vn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[99]||(t[99]=t=>e.oreBodyErosionPartialZoneFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyErosionPartialZoneFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[100]||(t[100]=t=>e.oreBodyErosionPartialZoneTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyErosionPartialZoneTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[101]||(t[101]=t=>e.oreBodyErosionPartialZoneMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyErosionPartialZoneMean]])])]),(0,a._)("tr",null,[bn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[102]||(t[102]=t=>e.oreBodyWidthExcavatedFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyWidthExcavatedFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[103]||(t[103]=t=>e.oreBodyWidthExcavatedTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyWidthExcavatedTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[104]||(t[104]=t=>e.oreBodyWidthExcavatedMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyWidthExcavatedMean]])])]),(0,a._)("tr",null,[kn,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[105]||(t[105]=t=>e.oreBodyQuaterDepositFrom=t),placeholder:"От"},null,512),[[s.nr,e.oreBodyQuaterDepositFrom]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[106]||(t[106]=t=>e.oreBodyQuaterDepositTo=t),placeholder:"До"},null,512),[[s.nr,e.oreBodyQuaterDepositTo]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[107]||(t[107]=t=>e.oreBodyQuaterDepositMean=t),placeholder:"Среднее"},null,512),[[s.nr,e.oreBodyQuaterDepositMean]])])])])])])]),(0,a._)("tr",null,[(0,a._)("td",In,[(0,a._)("div",An,[Cn,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[108]||(t[108]=t=>e.crackDensity=t),placeholder:"Линейная плотность трещин"},null,512),[[s.nr,e.crackDensity]])])])]),(0,a._)("tr",null,[(0,a._)("td",Dn,[(0,a._)("div",Mn,[xn,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[109]||(t[109]=t=>e.karstness=t),placeholder:"Закарстованность"},null,512),[[s.nr,e.karstness]])])])]),(0,a._)("tr",null,[(0,a._)("td",Hn,[(0,a._)("div",Un,[Sn,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[110]||(t[110]=t=>e.karstFiller=t),placeholder:"Заполнитель карста"},null,512),[[s.nr,e.karstFiller]])])])])])])])])):(0,a.kq)("",!0),i.selected_H03?((0,a.wg)(),(0,a.iD)("div",En,[(0,a.Wm)(h,{theme:"snow",toolbar:"full"})])):(0,a.kq)("",!0),i.selected_H04?((0,a.wg)(),(0,a.iD)("div",Bn)):(0,a.kq)("",!0),i.selected_H05?((0,a.wg)(),(0,a.iD)("div",Tn)):(0,a.kq)("",!0),i.selected_H06?((0,a.wg)(),(0,a.iD)("div",Vn)):(0,a.kq)("",!0),i.selected_H07?((0,a.wg)(),(0,a.iD)("div",Pn)):(0,a.kq)("",!0),i.selected_H08?((0,a.wg)(),(0,a.iD)("div",zn)):(0,a.kq)("",!0),i.selected_H0910?((0,a.wg)(),(0,a.iD)("div",Ln)):(0,a.kq)("",!0),i.selected_H11?((0,a.wg)(),(0,a.iD)("div",jn)):(0,a.kq)("",!0),i.selected_H12?((0,a.wg)(),(0,a.iD)("div",Rn)):(0,a.kq)("",!0),i.selected_H13?((0,a.wg)(),(0,a.iD)("div",Wn)):(0,a.kq)("",!0)])])])}const On=e=>((0,a.dD)("data-v-182548f0"),e=e(),(0,a.Cn)(),e),qn={class:"item"},Fn=["onUpdate:modelValue"],Zn=["onUpdate:modelValue"],Yn={style:{width:"calc(100%)"}},Xn={class:"item"},Kn=On((()=>(0,a._)("label",{style:{"margin-left":"10px","margin-right":"10px",width:"150px","text-align":"right","font-weight":"bolder"}},"Год",-1))),$n=On((()=>(0,a._)("label",{style:{"margin-left":"10px","margin-right":"10px",width:"150px","text-align":"right","font-weight":"bolder"}},"Стадии изученности",-1))),Gn=["value"];function Jn(e,t,o,l,i,n){const r=(0,a.up)("OkModal"),d=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",null,[i.showError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:e.errorMessage,header:e.header,onConfirm:e.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),e.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:1,message:e.authMessage,header:e.authHeader,onConfirm:e.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.items,(o=>((0,a.wg)(),(0,a.iD)("div",{key:o.deposit_id+"_"+o.mine_area_id+"_"+o.component_id+"_"+o.year},[(0,a._)("div",qn,[(0,a._)("button",{onClick:t[0]||(t[0]=(...t)=>e.removeItem&&e.removeItem(...t)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"70px"}},[(0,a.Wm)(d,{icon:"trash"})]),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e=>o.year=e,placeholder:"Введите год"},null,8,Fn),[[s.nr,o.year]]),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e=>o.exploration_stage=e,placeholder:"Введите степень освоения"},null,8,Zn),[[s.nr,o.exploration_stage]])])])))),128)),(0,a._)("div",Yn,[(0,a._)("div",Xn,[(0,a._)("button",{onClick:t[1]||(t[1]=(...t)=>e.addItem&&e.addItem(...t)),class:"btn btn-dark btn-lg btn-block",style:{height:"50px"}}," Добавить запись "),Kn,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{width:"100px"},"onUpdate:modelValue":t[2]||(t[2]=t=>e.newItemYear=t),placeholder:"Год"},null,512),[[s.nr,e.newItemYear]]),$n,(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[3]||(t[3]=t=>e.selectedStageId=t),"aria-label":"Стадии изученности",style:{width:"calc(100% - 640px)"},placeholder:"Введите степень освоения"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.stages,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Gn)))),128))],512),[[s.bM,e.selectedStageId]])])])])}var Qn={name:"ExplorationCtrl",props:["deposit_id","mine_area_id","component_id"],data(){return{items:[],year:null,stages:[],showSpinner:!1,showError:!1}},methods:{loadStages(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_STADII_IZUCHENNOSTI",limit:1e4,offset:0},{headers:t}).then((e=>{e.data[0].auth_fail||(this.stages=e.data[0].result)}))}},mounted(){this.loadStages()},components:{OkModal:Y,BootstrapIcon:X.Z}};const er=(0,F.Z)(Qn,[["render",Jn],["__scopeId","data-v-182548f0"]]);var tr=er;const or=e=>((0,a.dD)("data-v-7d22542b"),e=e(),(0,a.Cn)(),e),sr={class:"item"},ar=or((()=>(0,a._)("label",{style:{"margin-left":"10px","margin-right":"10px",width:"150px","text-align":"right","font-weight":"bolder"}},"Широта",-1))),lr=["onUpdate:modelValue"],ir=or((()=>(0,a._)("label",{style:{"margin-left":"10px","margin-right":"10px",width:"150px","text-align":"right","font-weight":"bolder"}},"Долгота",-1))),nr=["onUpdate:modelValue"],rr={style:{width:"calc(100%)"}},dr={class:"item"},cr=or((()=>(0,a._)("label",{style:{"margin-left":"10px","margin-right":"10px",width:"150px","text-align":"right","font-weight":"bolder"}},"Широта",-1))),pr=or((()=>(0,a._)("label",{style:{"margin-left":"10px","margin-right":"10px",width:"150px","text-align":"right","font-weight":"bolder"}},"Долгота",-1)));function hr(e,t,o,l,i,n){const r=(0,a.up)("OkModal"),d=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",null,[i.showError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:e.errorMessage,header:e.header,onConfirm:e.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),e.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:1,message:e.authMessage,header:e.authHeader,onConfirm:e.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.items,(o=>((0,a.wg)(),(0,a.iD)("div",{key:o.deposit_id+"_"+o.mine_area_id+"_"+o.component_id+"_"+o.year},[(0,a._)("div",sr,[(0,a._)("button",{onClick:t[0]||(t[0]=(...t)=>e.removeItem&&e.removeItem(...t)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"70px"}},[(0,a.Wm)(d,{icon:"trash"})]),ar,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e=>o.lat=e,style:{width:"200px"},placeholder:"Широта"},null,8,lr),[[s.nr,o.lat]]),ir,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e=>o.long=e,style:{width:"200px"},placeholder:"Долгота"},null,8,nr),[[s.nr,o.long]])])])))),128)),(0,a._)("div",rr,[(0,a._)("div",dr,[(0,a._)("button",{onClick:t[1]||(t[1]=(...t)=>e.removeItem&&e.removeItem(...t)),class:"btn btn-dark btn-lg btn-block",style:{height:"50px"}}," Добавить запись "),cr,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{width:"200px"},placeholder:"Широта","onUpdate:modelValue":t[2]||(t[2]=e=>i.longitude=e)},null,512),[[s.nr,i.longitude]]),pr,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{width:"200px"},placeholder:"Долгота","onUpdate:modelValue":t[3]||(t[3]=e=>i.latitude=e)},null,512),[[s.nr,i.latitude]])])])])}var mr={name:"CoordinatesCtrl",props:["deposit_id","mine_area_id","component_id"],data(){return{items:[],year:null,stages:[],showSpinner:!1,showError:!1,latitude:0,longitude:0}},methods:{},mounted(){},components:{OkModal:Y,BootstrapIcon:X.Z}};const ur=(0,F.Z)(mr,[["render",hr],["__scopeId","data-v-7d22542b"]]);var _r=ur,gr=o(9068),fr={name:"ProtocolEditModal",props:["deposit_id","mine_area_id","component_id"],data(){return{description:"",selected_H01:!1,selected_H02:!1,selected_H03:!1,selected_H04:!1,selected_H05:!1,selected_H06:!1,selected_H07:!1,selected_H08:!1,selected_H0910:!1,selected_H11:!1,selected_H12:!1,selected_H13:!1,selected_title:!0,showAuthError:!1,content:"<h1>Initial Content</h1>",showSpinner:!1,showError:!1,depositInfo:{},mineAreaInfo:{},dev:"",depositDesc:this.description,district:"",area:""}},methods:{saveForm(){},hideAuthMessage(){this.showAuthError=!1},selectTab(e){"title"==e&&(this.selected_title=!0,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H01"==e&&(this.selected_title=!1,this.selected_H01=!0,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H02"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!0,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H03"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!0,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H04"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!0,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H05"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!0,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H06"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!0,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H07"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!0,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H08"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!0,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H0910"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!0,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!1),"H11"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!0,this.selected_H12=!1,this.selected_H13=!1),"H12"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!0,this.selected_H13=!1),"H13"==e&&(this.selected_title=!1,this.selected_H01=!1,this.selected_H02=!1,this.selected_H03=!1,this.selected_H04=!1,this.selected_H05=!1,this.selected_H06=!1,this.selected_H07=!1,this.selected_H08=!1,this.selected_H0910=!1,this.selected_H11=!1,this.selected_H12=!1,this.selected_H13=!0)},selectDeposit(){this.$emit("reselect",{})},getArea(e){const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t},s=this.$BASE_URL+"/api/get_area/";y().post(s,{id_area:e},{headers:o}).then((e=>{e.data[0].auth_fail||(this.area=e.data[0].result.area_name)}))},getDistrict(e,t){const o=sessionStorage.getItem("token"),s={"Content-Type":"application/json",Authorization:"Bearer "+o},a=this.$BASE_URL+"/api/get_district/";y().post(a,{id_area:e,id_district:t},{headers:s}).then((e=>{e.data[0].auth_fail||(this.district=e.data[0].result.district_name)}))},getComponent(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_item_description/";y().post(o,{id:this.component_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.component=e.data[0].result.description)}))},getLandTypes(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_TIP_ZEMEL",limit:1e4,offset:0},{headers:t}).then((e=>{e.data[0].auth_fail||(this.land_type=e.data[0].result)}))},getReliefType(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_TIP_RELEFA",limit:1e4,offset:0},{headers:t}).then((e=>{e.data[0].auth_fail||(this.relief=e.data[0].result)}))},getAvalanchType(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_OPOLZNEOPASNOST",limit:1e4,offset:0},{headers:t}).then((e=>{e.data[0].auth_fail||(this.avalanch_score=e.data[0].result)}))},getMudflowType(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_SELEOPASNOST",limit:1e4,offset:0},{headers:t}).then((e=>{e.data[0].auth_fail||(this.drought_score=e.data[0].result)}))},getOrganizations(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_VED",limit:1e4,offset:0},{headers:t}).then((e=>{e.data[0].auth_fail||(this.organizations=e.data[0].result)}))},getDevStatus(e){const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t},s=this.$BASE_URL+"/api/get_dictionary_item_description/";y().post(s,{id:e},{headers:o}).then((e=>{e.data[0].auth_fail||(this.dev=e.data[0].result.description)}))},getDepositInfo(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_deposit/";y().post(o,{deposit_id:this.deposit_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.deposit_id==this.mine_area_id?(this.description=e.data[0].result.deposit_name,this.deposit=e.data[0].result.deposit_name,this.mineArea="-",this.depositInfo=e.data[0].result,this.getDevStatus(this.depositInfo.dev_id),this.getArea(this.depositInfo.area_id),this.getDistrict(this.depositInfo.area_id,this.depositInfo.district_id),this.saveOrUpdateProtocol()):(this.description=e.data[0].result.deposit_name,this.deposit=e.data[0].result.deposit_name,this.depositInfo=e.data[0].result,this.getMineAreaInfo()))}))},getMineAreaInfo(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_mine_area/";y().post(o,{deposit_id:this.deposit_id,mine_area_id:this.mine_area_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.description+=", "+e.data[0].result.mine_area_name,this.mineArea=e.data[0].result.mine_area_name,this.mineAreaInfo=e.data[0].result,this.getDevStatus(this.mineAreaInfo.dev_id),this.getDistrict(this.mineAreaInfo.area_id,this.mineAreaInfo.district_id),this.saveOrUpdateProtocol())}))},saveOrUpdateProtocol(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/create_or_ignore_general_info/";y().post(o,{deposit_id:this.deposit_id,mine_area_id:this.mine_area_id,component_id:this.component_id},{headers:t}).then((e=>{e.data[0].auth_fail||console.log(e.data[0].auth_fail)}))},hideErrorMessage(){this.showError=!1}},mounted(){this.getDepositInfo(),this.getComponent(),this.getLandTypes(),this.getReliefType(),this.getAvalanchType(),this.getOrganizations(),this.getMudflowType()},components:{OkModal:Y,Spinner:rt,QuillEditor:gr.Bn,ExplorationCtrl:tr,CoordinatesCtrl:_r}};const yr=(0,F.Z)(fr,[["render",Nn],["__scopeId","data-v-46f4f6ac"]]);var wr=yr;const vr=e=>((0,a.dD)("data-v-e5abd086"),e=e(),(0,a.Cn)(),e),br={class:"modal-mask"},kr={class:"modal-window"},Ir={class:"header"},Ar={class:"message"},Cr={class:"form-group col-xs-3"},Dr=vr((()=>(0,a._)("label",{style:{float:"left"}},"Полезные ископаемые доступные для месторождения",-1))),Mr=["value"];function xr(e,t,o,l,i,n){const r=(0,a.up)("OkModal");return(0,a.wg)(),(0,a.iD)("div",br,[(0,a._)("div",kr,[i.showError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.errorMessage,header:i.errorHeader,onConfirm:n.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),(0,a._)("div",Ir,(0,L.zw)(i.header),1),(0,a._)("div",Ar,[(0,a._)("div",Cr,[Dr,(0,a.wy)((0,a._)("select",{class:"form-select form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedComponentId=e),"aria-label":"Полезные ископаемые доступные для месторождения"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.components,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.component_id,key:e.component_id},(0,L.zw)(e.component_name),9,Mr)))),128))],512),[[s.bM,i.selectedComponentId]])])]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.confirm&&n.confirm(...e)),class:"btn btn-dark btn-lg btn-block next"}," Далее "),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>n.cancel&&n.cancel(...e)),class:"btn btn-dark btn-lg btn-block close"}," Отменить ")])])}var Hr={name:"ComponentSelectionModal",props:["deposit_id","mine_area_id"],data(){return{components:[],header:"Выбор полезного ископаемого",selectedComponentId:null,showError:!1,errorMessage:"Для данного месторождения отсутствуют записи по полезным ископаемым! Вам стоит выбрать полезное ископаемое или отменить действия мастера!",errorHeader:"Нет данных по полезным ископаемым"}},methods:{hideErrorMessage(){this.getAllComponents()},getAllComponents(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_POL",offset:0,limit:1e4},{headers:t}).then((e=>{if(!e.data[0].auth_fail){var t=e.data[0].result;this.components=[];for(var o=0;o<t.length;o++)this.components.push({deposit_id:this.deposit_id,mine_area_id:this.mine_area_id,component_id:t[o].id,component_name:t[o].description});this.showError=!1}}))},getComponentsForDeposit(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_available_components_for_deposit/";y().post(o,{deposit_id:this.deposit_id,mine_area_id:this.mine_area_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.components=e.data[0].result,0==this.components.length&&(this.showError=!0))}))},cancel(){this.$emit("cancel",{})},confirm(){null==this.selectedComponentId?(this.errorHeader="Ошибка при вводе данных",this.errorMessage="Не выбрано полезное ископаемое!",this.showError=!0):this.$emit("confirm",{deposit_id:this.deposit_id,mine_area_id:this.mine_area_id,component_id:this.selectedComponentId})}},components:{OkModal:Y},mounted(){this.getAllComponents()}};const Ur=(0,F.Z)(Hr,[["render",xr],["__scopeId","data-v-e5abd086"]]);var Sr=Ur,Er={name:"Protocols",data(){return{showDepositSelectionTable:!1,showComponentSelectionModal:!1,showEditModal:!1,depositName:"",deposit_id:null,mine_area_id:null}},methods:{closeAllWindows(){this.showEditModal=!1,this.showDepositSelectionTable=!1,this.showComponentSelectionModal=!1},selectProtocol(){this.showDepositSelectionTable=!0},showDepositSelection(){this.showEditModal=!1,this.showDepositSelectionTable=!0},closeObjectSelectionWindow(){this.showDepositSelectionTable=!1},selectDeposit(e){this.deposit_id=e.deposit_id,this.mine_area_id=e.mine_area_id,this.showDepositSelectionTable=!1,this.showComponentSelectionModal=!0},selectComponent(e){this.component_id=e.component_id,this.showComponentSelectionModal=!1,this.showEditModal=!0},getDepositInfo(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/get_deposit/";y().post(o,{deposit_id:this.deposit_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.depositName=e.data[0].result.deposit_name)}))}},components:{ProtocolSelectionModal:Xs,ProtocolEditModal:wr,ComponentSelectionModal:Sr},mounted(){}};const Br=(0,F.Z)(Er,[["render",xs],["__scopeId","data-v-b1f02ca6"]]);var Tr=Br;function Vr(e,t){return(0,a.wg)(),(0,a.iD)("div")}const Pr={},zr=(0,F.Z)(Pr,[["render",Vr]]);var Lr=zr;function jr(e,t){return(0,a.wg)(),(0,a.iD)("div")}const Rr={},Wr=(0,F.Z)(Rr,[["render",jr]]);var Nr=Wr;const Or=e=>((0,a.dD)("data-v-78b9fd5a"),e=e(),(0,a.Cn)(),e),qr={class:"deposits"},Fr=Or((()=>(0,a._)("div",{style:{"font-weight":"bold","text-align":"center"}}," Список месторождений ",-1)));function Zr(e,t,o,s,l,i){const n=(0,a.up)("DepositsTable");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",qr,[Fr,l.loaded?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0)])])}const Yr=e=>((0,a.dD)("data-v-16dcc902"),e=e(),(0,a.Cn)(),e),Xr={class:"table"},Kr=Yr((()=>(0,a._)("div",{class:"separator"},null,-1))),$r={class:"add"},Gr=Yr((()=>(0,a._)("div",{class:"separator"},null,-1)));function Jr(e,t,o,s,l,i){const n=(0,a.up)("Spinner"),r=(0,a.up)("OkModal"),d=(0,a.up)("EditDepositModal"),c=(0,a.up)("NewDepositModal"),p=(0,a.up)("Filter"),h=(0,a.up)("DepositItem"),m=(0,a.up)("BootstrapIcon"),u=(0,a.up)("Paginator");return(0,a.wg)(),(0,a.iD)("div",Xr,[l.showSpinner?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0),l.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:1,message:l.authMessage,header:l.authHeader,onConfirm:i.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),l.showEditDeposit?((0,a.wg)(),(0,a.j4)(d,{key:2,onCancel:i.closeUpdate,onSave:i.updateExisting,deposit_id:l.currentDepositId},null,8,["onCancel","onSave","deposit_id"])):(0,a.kq)("",!0),l.showAddNewDeposit?((0,a.wg)(),(0,a.j4)(c,{key:3,onCancel:i.closeAddNew,onSave:i.saveNew},null,8,["onCancel","onSave"])):(0,a.kq)("",!0),(0,a.Wm)(p,{onFilter:i.filterTable,filterVal:l.filter},null,8,["onFilter","filterVal"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.items,(e=>((0,a.wg)(),(0,a.j4)(h,{key:e.deposit_id,id_deposit:e.deposit_id,deposit_name:e.deposit_name,type_id:e.type_id,type:e.type,onDepositEdited:i.onEdit,onDepositDeleted:i.onDeleted},null,8,["id_deposit","deposit_name","type_id","type","onDepositEdited","onDepositDeleted"])))),128)),Kr,(0,a._)("div",$r,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.onNew&&i.onNew(...e)),class:"btn btn-dark btn-lg btn-block",style:{width:"300px"}},[(0,a.Wm)(m,{icon:"plus",size:"2x"}),(0,a.Uk)(" Добавить ")])]),Gr,(0,a.Wm)(u,{count:l.totalItems,ipp:l.ipp,currentPage:l.page,onPageClick:i.changePage,autoMargin:!0},null,8,["count","ipp","currentPage","onPageClick"])])}const Qr=e=>((0,a.dD)("data-v-d102bef4"),e=e(),(0,a.Cn)(),e),ed={class:"modal-mask"},td={class:"modal-window"},od=Qr((()=>(0,a._)("div",{class:"header"},"Добавление нового месторождения",-1))),sd={class:"body"},ad={class:"form-group"},ld=Qr((()=>(0,a._)("label",null,"Область",-1))),id=["value"],nd={class:"form-group"},rd=Qr((()=>(0,a._)("label",null,"Район",-1))),dd=["value"],cd={class:"form-group"},pd=Qr((()=>(0,a._)("label",null,"Степень освоения",-1))),hd=["value"],md={class:"form-group"},ud=Qr((()=>(0,a._)("label",null,"Наименование месторождения",-1))),_d={class:"form-group"},gd=Qr((()=>(0,a._)("label",null,"Описание месторождения",-1))),fd={class:"form-group",style:{"margin-top":"10px"}};function yd(e,t,o,l,i,n){return(0,a.wg)(),(0,a.iD)("div",ed,[(0,a._)("div",td,[od,(0,a._)("div",sd,[(0,a._)("form",null,[(0,a._)("div",ad,[ld,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedAreaId=e),"aria-label":"Область",onChange:t[1]||(t[1]=(...e)=>n.changeArea&&n.changeArea(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.areas,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_area,key:e.id_area},(0,L.zw)(e.area_name),9,id)))),128))],544),[[s.bM,i.selectedAreaId]])]),(0,a._)("div",nd,[rd,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedDistrictId=e),"aria-label":"Район"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.districts,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_district,key:e.id_district},(0,L.zw)(e.district_name),9,dd)))),128))],512),[[s.bM,i.selectedDistrictId]])]),(0,a._)("div",cd,[pd,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDevType=e),"aria-label":"Степень освоения"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.devs,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,hd)))),128))],512),[[s.bM,i.selectedDevType]])]),(0,a._)("div",md,[ud,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=e=>i.depositName=e)},null,512),[[s.nr,i.depositName]])]),(0,a._)("div",_d,[gd,(0,a.wy)((0,a._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[5]||(t[5]=e=>i.depositDesc=e)},null,512),[[s.nr,i.depositDesc]])]),(0,a._)("div",fd,[(0,a._)("button",{onClick:t[6]||(t[6]=(...e)=>n.save&&n.save(...e)),class:"btn btn-dark btn-lg btn-block save"}," Сохранить "),(0,a._)("button",{onClick:t[7]||(t[7]=(...e)=>n.cancel&&n.cancel(...e)),class:"btn btn-dark btn-lg btn-block close"}," Отменить ")])])])])])}var wd={name:"NewDepositModal",props:[],data(){return{areas:[],districts:[],devs:[],failed:!1,selectedDistrictId:null,selectedAreaId:null,selectedDevType:null,depositName:"",depositDesc:""}},methods:{save(e){this.$emit("save",{deposit_name:this.depositName,description:this.depositDesc,dev_id:this.selectedDevType,area_id:this.selectedAreaId,district_id:this.selectedDistrictId}),e.preventDefault()},cancel(e){this.$emit("cancel",{}),e.preventDefault()},getAreas(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_areas/";y().post(o,{offset:0,limit:20},{headers:t}).then((e=>{e.data.auth_fail||(this.areas=e.data.result,this.selectedAreaId=e.data.result[0].id_area,this.getDistricts())}))},getDistricts(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_districts/";y().post(o,{id_area:this.selectedAreaId,offset:0,limit:1e3},{headers:t}).then((e=>{e.data.auth_fail||(this.districts=e.data.result,e.data.result.length>0&&(this.selectedDistrictId=e.data.result[0].id_district))}))},getDevelopmentStatuses(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_OSV",offset:0,limit:1e4},{headers:t}).then((e=>{e.data.auth_fail||(this.devs=e.data.result,e.data.result.length>0&&(this.selectedDevType=e.data.result[0].id))}))},changeArea(){this.getDistricts()}},mounted(){this.getAreas(),this.getDevelopmentStatuses()}};const vd=(0,F.Z)(wd,[["render",yd],["__scopeId","data-v-d102bef4"]]);var bd=vd;const kd=e=>((0,a.dD)("data-v-a1995aea"),e=e(),(0,a.Cn)(),e),Id={class:"modal-mask"},Ad={class:"modal-window"},Cd=kd((()=>(0,a._)("div",{class:"header"},"Редактирование существующего месторождения",-1))),Dd={class:"body"},Md={class:"login-form"},xd={class:"form-group"},Hd=kd((()=>(0,a._)("label",null,"Область",-1))),Ud=["value"],Sd={class:"form-group"},Ed=kd((()=>(0,a._)("label",null,"Район",-1))),Bd=["value"],Td={class:"form-group"},Vd=kd((()=>(0,a._)("label",null,"Степень освоения",-1))),Pd=["value"],zd={class:"form-group"},Ld=kd((()=>(0,a._)("label",null,"Тип месторождения",-1))),jd=["value"],Rd={class:"form-group"},Wd=kd((()=>(0,a._)("label",null,"Наименование месторождения",-1))),Nd={class:"form-group"},Od=kd((()=>(0,a._)("label",null,"Описание месторождения",-1))),qd={class:"form-group",style:{"margin-top":"10px"}};function Fd(e,t,o,l,i,n){const r=(0,a.up)("OkModal");return(0,a.wg)(),(0,a.iD)("div",Id,[i.showAuthError?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.authMessage,header:i.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),(0,a._)("div",Ad,[Cd,(0,a._)("div",Dd,[(0,a._)("form",Md,[(0,a._)("div",xd,[Hd,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedAreaId=e),"aria-label":"Область",onChange:t[1]||(t[1]=(...e)=>n.changeArea&&n.changeArea(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.areas,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_area,key:e.id_area},(0,L.zw)(e.area_name),9,Ud)))),128))],544),[[s.bM,i.selectedAreaId]])]),(0,a._)("div",Sd,[Ed,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedDistrictId=e),"aria-label":"Район"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.districts,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_district,key:e.id_district},(0,L.zw)(e.district_name),9,Bd)))),128))],512),[[s.bM,i.selectedDistrictId]])]),(0,a._)("div",Td,[Vd,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDevType=e),"aria-label":"Степень освоения"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.devs,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Pd)))),128))],512),[[s.bM,i.selectedDevType]])]),(0,a._)("div",zd,[Ld,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>i.selectedDepositTypeId=e),"aria-label":"Тип месторождения",disabled:""},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.types,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.type),9,jd)))),128))],512),[[s.bM,i.selectedDepositTypeId]])]),(0,a._)("div",Rd,[Wd,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[5]||(t[5]=e=>i.depositName=e)},null,512),[[s.nr,i.depositName]])]),(0,a._)("div",Nd,[Od,(0,a.wy)((0,a._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[6]||(t[6]=e=>i.depositDesc=e)},null,512),[[s.nr,i.depositDesc]])]),(0,a._)("div",qd,[(0,a._)("button",{onClick:t[7]||(t[7]=(...e)=>n.save&&n.save(...e)),class:"btn btn-dark btn-lg btn-block save"}," Сохранить "),(0,a._)("button",{onClick:t[8]||(t[8]=(...e)=>n.cancel&&n.cancel(...e)),class:"btn btn-dark btn-lg btn-block close"}," Отменить ")])])])])])}var Zd={name:"EditDepositModal",props:["deposit_id"],data(){return{areas:[],districts:[],devs:[],types:[],failed:!1,depositId:this.deposit_id,selectedDistrictId:null,selectedAreaId:null,selectedDevType:null,depositName:"",depositDesc:"",showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности",selectedDepositTypeId:null}},methods:{hideAuthMessage(){this.showAuthError=!1},save(e){this.$emit("save",{deposit_id:this.depositId,deposit_name:this.depositName,description:this.depositDesc,development_id:this.selectedDevType,area_id:this.selectedAreaId,district_id:this.selectedDistrictId,type_id:this.selectedDepositTypeId}),e.preventDefault()},cancel(e){this.$emit("cancel",{}),e.preventDefault()},getDeposit(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_deposit/";y().post(o,{deposit_id:this.depositId},{headers:t}).then((e=>{e.data[0].auth_fail||(this.selectedAreaId=e.data[0].result.area_id,this.selectedDistrictId=e.data[0].result.district_id,this.selectedDevType=e.data[0].result.dev_id,this.depositName=e.data[0].result.deposit_name,this.depositDesc=e.data[0].result.description,this.selectedDepositTypeId=e.data[0].result.type_id,this.getAreas(),this.getDevelopmentStatuses(),this.getDepositTypes())}))},getAreas(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_areas/";y().post(o,{offset:0,limit:20},{headers:t}).then((e=>{e.data[0].auth_fail||(this.areas=e.data[0].result,this.getDistricts())}))},getDistricts(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_districts/";y().post(o,{id_area:this.selectedAreaId,offset:0,limit:1e3},{headers:t}).then((e=>{e.data[0].auth_fail||(this.districts=e.data[0].result)}))},getDepositTypes(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_deposit_types/";y().post(o,{},{headers:t}).then((e=>{e.data[0].auth_fail||(this.types=e.data[0].result)}))},getDevelopmentStatuses(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_OSV",offset:0,limit:1e4},{headers:t}).then((e=>{e.data[0].auth_fail||(this.devs=e.data[0].result)}))},changeArea(){this.getDistricts()}},mounted(){this.getDeposit()},components:{OkModal:Y}};const Yd=(0,F.Z)(Zd,[["render",Fd],["__scopeId","data-v-a1995aea"]]);var Xd=Yd;const Kd={class:"item"},$d={style:{"border-style":"none !important",width:"100%"}},Gd={style:{"border-style":"none !important",width:"100%"}},Jd={style:{width:"50px","border-style":"none !important"}},Qd={style:{width:"50px"}},ec={style:{width:"50px"}},tc=["disabled"],oc={style:{width:"50px"}},sc={style:{width:"100%"}};function ac(e,t,o,l,i,n){const r=(0,a.up)("ConfirmModal"),d=(0,a.up)("OkModal"),c=(0,a.up)("MineAreaModal"),p=(0,a.up)("ProtocolEditModal"),h=(0,a.up)("ComponentSelectionModal"),m=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",Kd,[i.showConfirmModal?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.confirmMessage,header:i.confirmHeader,onConfirm:n.onConfirm,onCancel:n.onCancel},null,8,["message","header","onConfirm","onCancel"])):(0,a.kq)("",!0),i.showAuthError?((0,a.wg)(),(0,a.j4)(d,{key:1,message:i.authMessage,header:i.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),i.showMineAreaModal?((0,a.wg)(),(0,a.j4)(c,{key:2,deposit_id:i.depositId,onMineAreasClose:n.closeMineAreas},null,8,["deposit_id","onMineAreasClose"])):(0,a.kq)("",!0),i.showProtocolEditModal?((0,a.wg)(),(0,a.j4)(p,{key:3,deposit_id:o.id_deposit,mine_area_id:o.id_deposit,component_id:e.component_id,onReselect:n.closeProtocolEditModal},null,8,["deposit_id","mine_area_id","component_id","onReselect"])):(0,a.kq)("",!0),i.showComponentSelectionModal?((0,a.wg)(),(0,a.j4)(h,{key:4,deposit_id:o.id_deposit,mine_area_id:o.id_deposit,onConfirm:n.selectComponent,onCancel:n.closeAllWindows},null,8,["deposit_id","mine_area_id","onConfirm","onCancel"])):(0,a.kq)("",!0),(0,a._)("table",$d,[(0,a._)("tr",Gd,[(0,a._)("td",Jd,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.removeItem&&n.removeItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(m,{icon:"trash"}),(0,a.Uk)(" Удалить ")])]),(0,a._)("td",Qd,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.editItem&&n.editItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(m,{icon:"pencil"}),(0,a.Uk)(" Редактировать ")])]),(0,a._)("td",ec,[(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>n.openProtocolModal&&n.openProtocolModal(...e)),class:(0,L.C_)(["btn btn-lg btn-block",0==i.hasMineAreas?"btn-dark":"btn-danger"]),style:{float:"left",width:"200px"},disabled:1==i.hasMineAreas},[(0,a.Wm)(m,{icon:"file-word"}),(0,a.Uk)(" Протокол ")],10,tc)]),(0,a._)("td",oc,[(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>n.editMineAreas&&n.editMineAreas(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(m,{icon:"minecart-loaded"}),(0,a.Uk)(" Участки ")])]),(0,a._)("td",sc,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[4]||(t[4]=e=>i.depositDecription=e),disabled:""},null,512),[[s.nr,i.depositDecription]])])])])])}const lc={class:"modal-mask"},ic={class:"modal-window"},nc={class:"header"},rc={class:"body"},dc={class:"form-group",style:{"margin-top":"10px"}};function cc(e,t,o,s,l,i){const n=(0,a.up)("MineAreaTable");return(0,a.wg)(),(0,a.iD)("div",lc,[(0,a._)("div",ic,[(0,a._)("div",nc,"Участки месторождения "+(0,L.zw)(l.deposit.deposit_name),1),(0,a._)("div",rc,[(0,a.Wm)(n,{deposit_id:o.deposit_id,deposit_name:l.deposit.deposit_name},null,8,["deposit_id","deposit_name"]),(0,a._)("div",dc,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e)),class:"btn btn-dark btn-lg btn-block close"}," Закрыть ")])])])])}const pc={class:"table"};function hc(e,t,o,s,l,i){const n=(0,a.up)("OkModal"),r=(0,a.up)("NewMineAreaModal"),d=(0,a.up)("MineAreaItem"),c=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",pc,[l.showError?((0,a.wg)(),(0,a.j4)(n,{key:0,message:l.errorMessage,header:l.header,onConfirm:i.hideErrorMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),l.showAuthError?((0,a.wg)(),(0,a.j4)(n,{key:1,message:l.authMessage,header:l.authHeader,onConfirm:i.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),l.showAddNewMineArea?((0,a.wg)(),(0,a.j4)(r,{key:2,deposit_id:o.deposit_id,onCancel:i.closeAddNew,onSave:i.saveNew},null,8,["deposit_id","onCancel","onSave"])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.items,(t=>((0,a.wg)(),(0,a.j4)(d,{key:t.mine_area_name,deposit_id:t.deposit_id,mine_area_id:t.mine_area_id,mine_area_name:t.mine_area_name,onMineAreaEdited:i.onEdit,onMineAreaDeleted:i.onDeleted,onReservesEditedForMineArea:e.onEditReservesForMineArea},null,8,["deposit_id","mine_area_id","mine_area_name","onMineAreaEdited","onMineAreaDeleted","onReservesEditedForMineArea"])))),128)),(0,a._)("div",null,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.onNew&&i.onNew(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"300px"}},[(0,a.Wm)(c,{icon:"database-add",size:"2x"}),(0,a.Uk)(" Добавить участок ")])])])}const mc=e=>((0,a.dD)("data-v-598a94a8"),e=e(),(0,a.Cn)(),e),uc={class:"modal-mask"},_c={class:"modal-window"},gc=mc((()=>(0,a._)("div",{class:"header"},"Добавление нового участка",-1))),fc={class:"body"},yc={class:"form-group"},wc=mc((()=>(0,a._)("label",null,"Область",-1))),vc=["value"],bc={class:"form-group"},kc=mc((()=>(0,a._)("label",null,"Район",-1))),Ic=["value"],Ac={class:"form-group"},Cc=mc((()=>(0,a._)("label",null,"Степень освоения",-1))),Dc=["value"],Mc={class:"form-group"},xc=mc((()=>(0,a._)("label",null,"Наименование участка",-1))),Hc={class:"form-group"},Uc=mc((()=>(0,a._)("label",null,"Описание участка",-1))),Sc={class:"form-group",style:{"margin-top":"10px"}};function Ec(e,t,o,l,i,n){return(0,a.wg)(),(0,a.iD)("div",uc,[(0,a._)("div",_c,[gc,(0,a._)("div",fc,[(0,a._)("form",null,[(0,a._)("div",yc,[wc,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedAreaId=e),"aria-label":"Область",onChange:t[1]||(t[1]=(...e)=>n.changeArea&&n.changeArea(...e)),disabled:"true"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.areas,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_area,key:e.id_area},(0,L.zw)(e.area_name),9,vc)))),128))],544),[[s.bM,i.selectedAreaId]])]),(0,a._)("div",bc,[kc,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedDistrictId=e),"aria-label":"Район",disabled:"true"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.districts,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_district,key:e.id_district},(0,L.zw)(e.district_name),9,Ic)))),128))],512),[[s.bM,i.selectedDistrictId]])]),(0,a._)("div",Ac,[Cc,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDevType=e),"aria-label":"Степень освоения"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.devs,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,Dc)))),128))],512),[[s.bM,i.selectedDevType]])]),(0,a._)("div",Mc,[xc,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=e=>i.mineAreaName=e)},null,512),[[s.nr,i.mineAreaName]])]),(0,a._)("div",Hc,[Uc,(0,a.wy)((0,a._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[5]||(t[5]=e=>i.mineAreaDesc=e)},null,512),[[s.nr,i.mineAreaDesc]])]),(0,a._)("div",Sc,[(0,a._)("button",{onClick:t[6]||(t[6]=(...e)=>n.save&&n.save(...e)),class:"btn btn-dark btn-lg btn-block save"}," Сохранить "),(0,a._)("button",{onClick:t[7]||(t[7]=(...e)=>n.cancel&&n.cancel(...e)),class:"btn btn-dark btn-lg btn-block close"}," Отменить ")])])])])])}var Bc={name:"NewMineAreaModal",props:["deposit_id"],data(){return{areas:[],districts:[],devs:[],failed:!1,parentAreaId:null,parentDistrictId:null,selectedDistrictId:this.deposit_id,selectedAreaId:null,selectedDevType:null,mineAreaName:"",mineAreaDesc:""}},methods:{getDepositInfo(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_deposit/";y().post(o,{deposit_id:this.deposit_id},{headers:t}).then((e=>{if(!e.data.auth_fail){let t=e.data.result;this.parentAreaId=t.area_id,this.parentDistrictId=t.district_id,this.getAreas()}}))},save(e){this.$emit("save",{deposit_id:this.deposit_id,mine_area_name:this.mineAreaName,description:this.mineAreaDesc,dev_id:this.selectedDevType,area_id:this.selectedAreaId,district_id:this.selectedDistrictId}),e.preventDefault()},cancel(e){this.$emit("cancel",{}),e.preventDefault()},getAreas(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_areas/";y().post(o,{offset:0,limit:20},{headers:t}).then((e=>{e.data.auth_fail||(this.areas=e.data.result,this.selectedAreaId=this.parentAreaId,this.getDistricts())}))},getDistricts(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_districts/";y().post(o,{id_area:this.selectedAreaId,offset:0,limit:1e3},{headers:t}).then((e=>{e.data.auth_fail||(this.districts=e.data.result,e.data.result.length>0&&(this.selectedDistrictId=this.parentDistrictId))}))},getDevelopmentStatuses(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_OSV",offset:0,limit:1e4},{headers:t}).then((e=>{e.data.auth_fail||(this.devs=e.data.result,e.data.result.length>0&&(this.selectedDevType=e.data.result[0].id))}))},changeArea(){this.getDistricts()}},mounted(){this.getDepositInfo(),this.getDevelopmentStatuses()}};const Tc=(0,F.Z)(Bc,[["render",Ec],["__scopeId","data-v-598a94a8"]]);var Vc=Tc;const Pc={class:"item"},zc={style:{"border-style":"none !important",width:"100%"}},Lc={style:{"border-style":"none !important",width:"100%"}},jc={style:{width:"50px","border-style":"none !important"}},Rc={style:{width:"50px"}},Wc={style:{width:"50px"}},Nc={style:{width:"100%"}};function Oc(e,t,o,l,i,n){const r=(0,a.up)("ConfirmModal"),d=(0,a.up)("EditMineAreaModal"),c=(0,a.up)("OkModal"),p=(0,a.up)("ProtocolEditModal"),h=(0,a.up)("ComponentSelectionModal"),m=(0,a.up)("BootstrapIcon");return(0,a.wg)(),(0,a.iD)("div",Pc,[i.showConfirmModal?((0,a.wg)(),(0,a.j4)(r,{key:0,message:i.confirmMessage,header:i.confirmHeader,onConfirm:n.onConfirm,onCancel:n.onCancel},null,8,["message","header","onConfirm","onCancel"])):(0,a.kq)("",!0),i.showEditMineAreaModal?((0,a.wg)(),(0,a.j4)(d,{key:1,deposit_id:i.depositId,mine_area_id:i.mineAreaId,onSaveEditMineArea:n.saveMineAreaEdit,onCloseEditMineArea:n.closeMineAreaEdit},null,8,["deposit_id","mine_area_id","onSaveEditMineArea","onCloseEditMineArea"])):(0,a.kq)("",!0),i.showAuthError?((0,a.wg)(),(0,a.j4)(c,{key:2,message:i.authMessage,header:i.authHeader,onConfirm:n.hideAuthMessage},null,8,["message","header","onConfirm"])):(0,a.kq)("",!0),i.showProtocolEditModal?((0,a.wg)(),(0,a.j4)(p,{key:3,deposit_id:o.deposit_id,mine_area_id:o.mine_area_id,component_id:e.component_id,onReselect:n.closeProtocolEditModal},null,8,["deposit_id","mine_area_id","component_id","onReselect"])):(0,a.kq)("",!0),i.showComponentSelectionModal?((0,a.wg)(),(0,a.j4)(h,{key:4,deposit_id:o.deposit_id,mine_area_id:o.mine_area_id,onConfirm:n.selectComponent,onCancel:n.closeAllWindows},null,8,["deposit_id","mine_area_id","onConfirm","onCancel"])):(0,a.kq)("",!0),(0,a._)("table",zc,[(0,a._)("tr",Lc,[(0,a._)("td",jc,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>n.removeItem&&n.removeItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(m,{icon:"trash"}),(0,a.Uk)(" Удалить ")])]),(0,a._)("td",Rc,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>n.editItem&&n.editItem(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(m,{icon:"pencil"}),(0,a.Uk)(" Редактировать ")])]),(0,a._)("td",Wc,[(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>n.openProtocolModal&&n.openProtocolModal(...e)),class:"btn btn-dark btn-lg btn-block",style:{float:"left",width:"200px"}},[(0,a.Wm)(m,{icon:"file-word"}),(0,a.Uk)(" Протокол ")])]),(0,a._)("td",Nc,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",style:{display:"inline",width:"calc(100%)"},"onUpdate:modelValue":t[3]||(t[3]=e=>i.mineAreaName=e),disabled:""},null,512),[[s.nr,i.mineAreaName]])])])])])}const qc=e=>((0,a.dD)("data-v-24025cf4"),e=e(),(0,a.Cn)(),e),Fc={class:"modal-mask"},Zc={class:"modal-window"},Yc=qc((()=>(0,a._)("div",{class:"header"},"Редактирование участка",-1))),Xc={class:"body"},Kc={class:"form-group"},$c=qc((()=>(0,a._)("label",null,"Область",-1))),Gc=["value"],Jc={class:"form-group"},Qc=qc((()=>(0,a._)("label",null,"Район",-1))),ep=["value"],tp={class:"form-group"},op=qc((()=>(0,a._)("label",null,"Степень освоения",-1))),sp=["value"],ap={class:"form-group"},lp=qc((()=>(0,a._)("label",null,"Тип месторождения",-1))),ip=["value"],np={class:"form-group"},rp=qc((()=>(0,a._)("label",null,"Наименование участка",-1))),dp={class:"form-group"},cp=qc((()=>(0,a._)("label",null,"Описание участка",-1))),pp={class:"form-group",style:{"margin-top":"10px"}};function hp(e,t,o,l,i,n){return(0,a.wg)(),(0,a.iD)("div",Fc,[(0,a._)("div",Zc,[Yc,(0,a._)("div",Xc,[(0,a._)("form",null,[(0,a._)("div",Kc,[$c,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedAreaId=e),"aria-label":"Область",onChange:t[1]||(t[1]=(...e)=>n.changeArea&&n.changeArea(...e)),disabled:"true"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.areas,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_area,key:e.id_area},(0,L.zw)(e.area_name),9,Gc)))),128))],544),[[s.bM,i.selectedAreaId]])]),(0,a._)("div",Jc,[Qc,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedDistrictId=e),"aria-label":"Район",disabled:"true"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.districts,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id_district,key:e.id_district},(0,L.zw)(e.district_name),9,ep)))),128))],512),[[s.bM,i.selectedDistrictId]])]),(0,a._)("div",tp,[op,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDevType=e),"aria-label":"Степень освоения"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.devs,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.description),9,sp)))),128))],512),[[s.bM,i.selectedDevType]])]),(0,a._)("div",ap,[lp,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>i.selectedDepositTypeId=e),"aria-label":"Тип месторождения",disabled:""},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.types,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,L.zw)(e.type),9,ip)))),128))],512),[[s.bM,i.selectedDepositTypeId]])]),(0,a._)("div",np,[rp,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[5]||(t[5]=e=>i.mineAreaName=e)},null,512),[[s.nr,i.mineAreaName]])]),(0,a._)("div",dp,[cp,(0,a.wy)((0,a._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[6]||(t[6]=e=>i.mineAreaDesc=e)},null,512),[[s.nr,i.mineAreaDesc]])]),(0,a._)("div",pp,[(0,a._)("button",{onClick:t[7]||(t[7]=(...e)=>n.save&&n.save(...e)),class:"btn btn-dark btn-lg btn-block save"}," Сохранить "),(0,a._)("button",{onClick:t[8]||(t[8]=(...e)=>n.cancel&&n.cancel(...e)),class:"btn btn-dark btn-lg btn-block close"}," Отменить ")])])])])])}var mp={name:"EditMineAreaModal",props:["deposit_id","mine_area_id"],data(){return{areas:[],districts:[],devs:[],types:[],failed:!1,parentAreaId:null,parentDistrictId:null,selectedDistrictId:null,selectedDepositTypeId:null,selectedAreaId:null,selectedDevType:null,mineAreaName:"",mineAreaDesc:""}},methods:{getMineInfo(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_mine_area/";y().post(o,{deposit_id:this.deposit_id,mine_area_id:this.mine_area_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.selectedAreaId=e.data[0].result.area_id,this.selectedDistrictId=e.data[0].result.district_id,this.selectedDevType=e.data[0].result.dev_id,this.mineAreaName=e.data[0].result.mine_area_name,this.mineAreaDesc=e.data[0].result.description,this.selectedDepositTypeId=e.data[0].result.type_id,this.getAreas(),this.getDevelopmentStatuses(),this.getDepositTypes())}))},save(e){this.$emit("save-edit-mine-area",{mine_area_id:this.mine_area_id,deposit_id:this.deposit_id,mine_area_name:this.mineAreaName,description:this.mineAreaDesc,dev_id:this.selectedDevType,area_id:this.selectedAreaId,district_id:this.selectedDistrictId,type_id:this.selectedDepositTypeId}),e.preventDefault()},cancel(e){this.$emit("close-edit-mine-area",{}),e.preventDefault()},getAreas(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_areas/";y().post(o,{offset:0,limit:1e3},{headers:t}).then((e=>{e.data[0].auth_fail||(this.areas=e.data[0].result,this.getDistricts())}))},getDistricts(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_districts/";y().post(o,{id_area:this.selectedAreaId,offset:0,limit:1e3},{headers:t}).then((e=>{e.data[0].auth_fail||(this.districts=e.data[0].result)}))},getDepositTypes(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_deposit_types/";y().post(o,{},{headers:t}).then((e=>{e.data[0].auth_fail||(this.types=e.data[0].result,console.log(this.types))}))},getDevelopmentStatuses(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_dictionary_contents/";y().post(o,{category:"SPR_OSV",offset:0,limit:1e4},{headers:t}).then((e=>{e.data[0].auth_fail||(this.devs=e.data[0].result)}))},changeArea(){this.getDistricts()}},components:{},mounted(){this.getMineInfo()}};const up=(0,F.Z)(mp,[["render",hp],["__scopeId","data-v-24025cf4"]]);var _p=up,gp={name:"MineAreaItem",props:["deposit_id","mine_area_id","mine_area_name"],data(){return{depositId:this.deposit_id,mineAreaId:this.mine_area_id,mineAreaName:this.mine_area_name,showEditMineAreaModal:!1,showEditReserves:!1,confirmMessage:"",confirmHeader:"",showConfirmModal:!1,showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности",showComponentSelectionModal:!1,showProtocolEditModal:!1}},methods:{closeProtocolEditModal(){this.showProtocolEditModal=!1},selectComponent(e){this.showComponentSelectionModal=!1,this.component_id=e.component_id,this.showProtocolEditModal=!0},closeAllWindows(){this.showComponentSelectionModal=!1},openProtocolModal(){this.showComponentSelectionModal=!0},hideAuthMessage(){this.showAuthError=!1},onConfirm(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/delete_mine_area/";y().post(o,{deposit_id:this.depositId,mine_area_id:this.mine_area_id},{headers:t}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:this.$emit("mine-area-deleted",{})}))},onCancel(){this.showConfirmModal=!1},removeItem(e){this.confirmMessage="Удалить участок? Это приведет к потере данных (лицензий, запасов, а также всех движений и исторических данных!)",this.confirmHeader="Удаление данных!",this.showConfirmModal=!0,e.preventDefault()},editItem(e){this.showEditMineAreaModal=!0,e.preventDefault()},editReserves(e){this.showEditReserves=!0,e.preventDefault()},closeEditReserves(){this.showEditReserves=!1},closeMineAreaEdit(){this.showEditMineAreaModal=!1},saveMineAreaEdit(e){const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t},s=this.$BASE_URL+"/api/update_mine_area/";y().post(s,e,{headers:o}).then((()=>{this.$emit("mine-area-edited")})),this.showEditMineAreaModal=!1}},components:{EditMineAreaModal:_p,BootstrapIcon:X.Z,ConfirmModal:ke,OkModal:Y,ProtocolEditModal:wr,ComponentSelectionModal:Sr},mounted(){}};const fp=(0,F.Z)(gp,[["render",Oc],["__scopeId","data-v-0d4c0035"]]);var yp=fp,wp={name:"MineAreaTable",props:["deposit_id","deposit_name"],watch:{},data(){return{items:[],totalItems:0,showAddNewMineArea:!1,showEditDeposit:!1,currentDepositId:null,showError:!1,errorMessage:"",header:"Невозможно сохранить запись",showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности"}},methods:{hideAuthMessage(){this.showAuthError=!1},loadItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_mine_areas/";y().post(o,{deposit_id:this.deposit_id,offset:0,limit:1e4},{headers:t}).then((e=>{e.data[0].auth_fail||(this.items=e.data[0].result)}))},hideErrorMessage(){this.showError=!1},onDeleted(){this.loadItems()},onEdit(){this.loadItems()},onNew(){this.showAddNewMineArea=!0},closeAddNew(){this.showAddNewMineArea=!1},saveNew(e){this.showAddNewMineArea=!1;const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t};var s=this.$BASE_URL+"/api/add_mine_area/";y().post(s,e,{headers:o}).then((e=>{console.log(JSON.stringify(e.data)),e.data[0].auth_fail?this.showAuthError=!0:e.data[0].result?this.loadItems():(this.errorMessage=e.data[0].reason,this.showError=!0)}))}},components:{NewMineAreaModal:Vc,MineAreaItem:yp,OkModal:Y,BootstrapIcon:X.Z},mounted(){this.loadItems()}};const vp=(0,F.Z)(wp,[["render",hc],["__scopeId","data-v-292a76e7"]]);var bp=vp,kp={name:"MineAreaModal",props:["deposit_id"],data(){return{deposit:{deposit_name:""}}},methods:{getDepositInfo(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_deposit/";y().post(o,{deposit_id:this.deposit_id},{headers:t}).then((e=>{e.data[0].auth_fail||(this.deposit=e.data[0].result)}))},close(e){this.$emit("mine-areas-close",{}),e.preventDefault()}},mounted(){this.getDepositInfo()},components:{MineAreaTable:bp}};const Ip=(0,F.Z)(kp,[["render",cc],["__scopeId","data-v-86c81d46"]]);var Ap=Ip,Cp={name:"DepositItem",props:["id_deposit","deposit_name","type_id","type"],data(){return{depositId:this.id_deposit,depositName:this.deposit_name,depositDecription:this.deposit_name+", "+this.type,showEditReserves:!1,showMineAreaModal:!1,showDepositPropertiesModal:!1,confirmMessage:"",confirmHeader:"",showConfirmModal:!1,showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности",hasMineAreas:!1,showComponentSelectionModal:!1,showProtocolEditModal:!1}},methods:{closeProtocolEditModal(){this.showProtocolEditModal=!1},selectComponent(e){this.showComponentSelectionModal=!1,this.component_id=e.component_id,this.showProtocolEditModal=!0},closeAllWindows(){this.showComponentSelectionModal=!1},openProtocolModal(){this.showComponentSelectionModal=!0},hideAuthMessage(){this.showAuthError=!1},onConfirm(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/delete_deposit/";y().post(o,{deposit_id:this.depositId},{headers:t}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:this.$emit("deposit-deleted",{})}))},getHasMineAreas(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e},o=this.$BASE_URL+"/api/has_mine_areas/";y().post(o,{deposit_id:this.depositId},{headers:t}).then((e=>{e.data[0].auth_fail||(this.hasMineAreas=e.data[0].result)}))},onCancel(){this.showConfirmModal=!1},removeItem(e){this.confirmMessage="Удалить месторождение? Это приведет к потере данных (лицензий, запасов, а также всех движений и исторических данных!)",this.confirmHeader="Удаление данных!",this.showConfirmModal=!0,e.preventDefault()},editItem(e){this.$emit("deposit-edited",{deposit_id:this.depositId}),e.preventDefault()},editReserves(e){this.showEditReserves=!0,e.preventDefault()},closeEditReserves(){this.showEditReserves=!1},editMineAreas(e){this.showMineAreaModal=!0,e.preventDefault()},editItemProperties(e){this.showDepositPropertiesModal=!0,e.preventDefault()},closeMineAreas(){this.showMineAreaModal=!1},closeDepositPropsModal(){this.showDepositPropertiesModal=!1}},components:{BootstrapIcon:X.Z,MineAreaModal:Ap,ConfirmModal:ke,OkModal:Y,ProtocolEditModal:wr,ComponentSelectionModal:Sr},mounted(){this.getHasMineAreas()}};const Dp=(0,F.Z)(Cp,[["render",ac],["__scopeId","data-v-1c4fec12"]]);var Mp=Dp,xp={name:"DepositsTable",props:[],watch:{},data(){return{items:[],totalItems:0,showAddNewDeposit:!1,showEditDeposit:!1,currentDepositId:null,page:1,ipp:10,filter:"",loadedItems:0,showSpinner:!0,showAuthError:!1,authMessage:"Доступ запрещен",authHeader:"Ошибка безопасности"}},methods:{hideAuthMessage(){this.showAuthError=!1},countItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_deposits_count/";y().post(o,{deposit_name:this.filter},{headers:t}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:this.totalItems=e.data[0].result}))},loadItems(){const e=sessionStorage.getItem("token"),t={"Content-Type":"application/json",Authorization:"Bearer "+e};var o=this.$BASE_URL+"/api/get_deposits/";const s=(this.page-1)*this.ipp;y().post(o,{deposit_name:this.filter,offset:s,limit:this.ipp},{headers:t}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:(this.items=e.data[0].result,this.loadedItems=0,this.showSpinner=!1)}))},changePage(e){this.page=e.page,this.loadItems()},onDeleted(){this.page=1,this.filter="",this.countItems(),this.loadItems()},onEdit(e){this.currentDepositId=e.deposit_id,this.showEditDeposit=!0},onNew(){this.showAddNewDeposit=!0},filterTable(e){this.page=1,this.filter=e,this.countItems(),this.loadItems()},closeAddNew(){this.showAddNewDeposit=!1},saveNew(e){this.showAddNewDeposit=!1;const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t};var s=this.$BASE_URL+"/api/add_deposit/";y().post(s,e,{headers:o}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:(this.page=1,this.filter="",this.countItems(),this.loadItems())}))},updateExisting(e){this.showEditDeposit=!1;const t=sessionStorage.getItem("token"),o={"Content-Type":"application/json",Authorization:"Bearer "+t};var s=this.$BASE_URL+"/api/update_deposit/";y().post(s,e,{headers:o}).then((e=>{e.data[0].auth_fail?this.showAuthError=!0:(this.page=1,this.filter="",this.items=[],this.countItems(),this.loadItems())}))},closeUpdate(){this.showEditDeposit=!1},onEditReservesForDeposit(e){this.currentDepositId=e.deposit_id}},components:{BootstrapIcon:X.Z,EditDepositModal:Xd,NewDepositModal:bd,DepositItem:Mp,Paginator:Oe,Filter:Qe,Spinner:rt,OkModal:Y},mounted(){this.showSpinner=!0,this.countItems(),this.loadItems()}};const Hp=(0,F.Z)(xp,[["render",Jr],["__scopeId","data-v-16dcc902"]]);var Up=Hp,Sp={name:"Deposits",data(){return{loaded:!0}},methods:{},components:{DepositsTable:Up},mounted(){}};const Ep=(0,F.Z)(Sp,[["render",Zr],["__scopeId","data-v-78b9fd5a"]]);var Bp=Ep;const Tp=[{path:"/",name:"Протоколы",component:Tr},{path:"/protocols",name:"Протоколы",component:Tr},{path:"/transfer",name:"Мастер переноса",component:Nr},{path:"/deposits",name:"Месторождения",component:Bp},{path:"/dicts",name:"Справочники",component:vt},{path:"/reports",name:"Отчеты",component:Lr},{path:"/districts",name:"Районы",component:so},{path:"/about",name:"О программе",component:Is},{path:"/security",name:"Безопасность",component:ys}],Vp=(0,te.p7)({history:(0,te.PO)("/"),routes:Tp});Vp.replace({path:"*",redirect:"/"});var Pp=Vp;const zp=(0,s.ri)(ee);zp.config.globalProperties["$BASE_URL"]="https://kadastr.strangebit.io",zp.config.globalProperties["$BASE_URL"]="http://localhost:5003",zp.use(Pp),zp.mount("#app")}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var l=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}o.m=e,function(){var e=[];o.O=function(t,s,a,l){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],l=e[c][2];for(var n=!0,r=0;r<s.length;r++)(!1&l||i>=l)&&Object.keys(o.O).every((function(e){return o.O[e](s[r])}))?s.splice(r--,1):(n=!1,l<i&&(i=l));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[s,a,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,l,i=s[0],n=s[1],r=s[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(r)var c=r(o)}for(t&&t(s);d<i.length;d++)l=i[d],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},s=self["webpackChunkkadastr"]=self["webpackChunkkadastr"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(91)}));s=o.O(s)})();
//# sourceMappingURL=app.a46a6d84.js.map